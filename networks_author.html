<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Olivier Caron">
<meta name="author" content="Christophe Benavent">
<meta name="dcterms.date" content="2023-11-17">

<title>Systematic literature review</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="networks_author_files/libs/clipboard/clipboard.min.js"></script>
<script src="networks_author_files/libs/quarto-html/quarto.js"></script>
<script src="networks_author_files/libs/quarto-html/popper.min.js"></script>
<script src="networks_author_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="networks_author_files/libs/quarto-html/anchor.min.js"></script>
<link href="networks_author_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="networks_author_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="networks_author_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="networks_author_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="networks_author_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="networks_author_files/libs/core-js-2.5.3/shim.min.js"></script>
<script src="networks_author_files/libs/react-17.0.0/react.min.js"></script>
<script src="networks_author_files/libs/react-17.0.0/react-dom.min.js"></script>
<script src="networks_author_files/libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="networks_author_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="networks_author_files/libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="networks_author_files/libs/reactable-binding-0.4.4/reactable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Systematic literature review</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">A focus on authors, articles, references with networks</p>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Olivier Caron </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Paris Dauphine - PSL
            </p>
        </div>
        <div class="quarto-title-meta-contents">
      <p class="author">Christophe Benavent </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Paris Dauphine - PSL
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 17, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#purpose" id="toc-purpose" class="nav-link active" data-scroll-target="#purpose"><span class="header-section-number">1</span> Purpose</a></li>
  <li><a href="#libraries-and-preparing-data" id="toc-libraries-and-preparing-data" class="nav-link" data-scroll-target="#libraries-and-preparing-data"><span class="header-section-number">2</span> Libraries and preparing data</a>
  <ul class="collapse">
  <li><a href="#summary-of-the-authors-data" id="toc-summary-of-the-authors-data" class="nav-link" data-scroll-target="#summary-of-the-authors-data"><span class="header-section-number">2.1</span> Summary of the authors data</a></li>
  <li><a href="#check-name-of-authors" id="toc-check-name-of-authors" class="nav-link" data-scroll-target="#check-name-of-authors"><span class="header-section-number">2.2</span> Check name of authors</a></li>
  <li><a href="#correct-the-duplicate-names" id="toc-correct-the-duplicate-names" class="nav-link" data-scroll-target="#correct-the-duplicate-names"><span class="header-section-number">2.3</span> Correct the duplicate names</a></li>
  <li><a href="#verification-of-duplicate-names" id="toc-verification-of-duplicate-names" class="nav-link" data-scroll-target="#verification-of-duplicate-names"><span class="header-section-number">2.4</span> Verification of duplicate names</a></li>
  </ul></li>
  <li><a href="#co-authorship-networks" id="toc-co-authorship-networks" class="nav-link" data-scroll-target="#co-authorship-networks"><span class="header-section-number">3</span> Co-authorship networks</a>
  <ul class="collapse">
  <li><a href="#network-basic-visualization" id="toc-network-basic-visualization" class="nav-link" data-scroll-target="#network-basic-visualization"><span class="header-section-number">3.1</span> Network basic visualization</a></li>
  <li><a href="#network-visualization-with-pyvis" id="toc-network-visualization-with-pyvis" class="nav-link" data-scroll-target="#network-visualization-with-pyvis"><span class="header-section-number">3.2</span> Network visualization with Pyvis</a></li>
  <li><a href="#detect-communities-with-louvains-algorithm" id="toc-detect-communities-with-louvains-algorithm" class="nav-link" data-scroll-target="#detect-communities-with-louvains-algorithm"><span class="header-section-number">3.3</span> Detect communities with Louvain’s algorithm</a></li>
  <li><a href="#network-visualization-with-ipysigma-pliquehal-03903518v1" id="toc-network-visualization-with-ipysigma-pliquehal-03903518v1" class="nav-link" data-scroll-target="#network-visualization-with-ipysigma-pliquehal-03903518v1"><span class="header-section-number">3.4</span> Network visualization with ipysigma <span class="citation" data-cites="plique:hal-03903518v1">(Plique 2022)</span></a></li>
  <li><a href="#an-interesting-metric-the-graph-density" id="toc-an-interesting-metric-the-graph-density" class="nav-link" data-scroll-target="#an-interesting-metric-the-graph-density"><span class="header-section-number">3.5</span> An interesting metric: the graph density</a></li>
  </ul></li>
  <li><a href="#graph-density-of-references" id="toc-graph-density-of-references" class="nav-link" data-scroll-target="#graph-density-of-references"><span class="header-section-number">4</span> Graph density of references</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<section id="purpose" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="purpose"><span class="header-section-number">1</span> Purpose</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cowsay<span class="sc">::</span><span class="fu">say</span>(<span class="st">"After researching the articles and references by making graphs to</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">better visualize the structure of the research. We want to focus</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">here on the authors, trying to understand how communities evolve over time."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 -------------- 
After researching the articles and references by making graphs to
better visualize the structure of the research. We want to focus
here on the authors, trying to understand how communities evolve over time. 
 --------------
    \
      \
        \
            |\___/|
          ==) ^Y^ (==
            \  ^  /
             )=*=(
            /     \
            |     |
           /| | | |\
           \| | |_|/\
      jgs  //_// ___/
               \_)
  </code></pre>
</div>
</div>
</section>
<section id="libraries-and-preparing-data" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="libraries-and-preparing-data"><span class="header-section-number">2</span> Libraries and preparing data</h2>
<section id="summary-of-the-authors-data" class="level3 page-columns page-full" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="summary-of-the-authors-data"><span class="header-section-number">2.1</span> Summary of the authors data</h3>
<div class="cell page-columns page-full">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: summary-authors-data</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: screen-inset-right</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>list_articles <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"nlp_full_data_final_18-08-2023.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">marketing =</span> <span class="fu">as.logical</span>(marketing)) <span class="sc">%&gt;%</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">authid =</span> <span class="fu">as.character</span>(authid)) <span class="sc">%&gt;%</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">afid =</span> <span class="fu">as.character</span>(afid)) <span class="sc">%&gt;%</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">entry_number =</span> <span class="fu">as.character</span>(entry_number)) <span class="sc">%&gt;%</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source_id =</span> <span class="fu">as.character</span>(source_id)) <span class="sc">%&gt;%</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">article_number =</span> <span class="fu">as.character</span>(article_number)) <span class="sc">%&gt;%</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">openaccess =</span> <span class="fu">as.logical</span>(openaccess))</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(list_articles) <span class="co">#%&gt;%</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">#filter(!skim_type %in% c("logical"))</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display column-screen-inset-right">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">list_articles</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">1498</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">54</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">logical</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 28%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">entry_number</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">author_url</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1255</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">authid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1255</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">orcid</td>
<td style="text-align: right;">1237</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">240</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">authname</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1241</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">surname</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1002</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">given_name</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1148</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">initials</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">275</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">afid</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">601</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">affiliation_url</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">601</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">affilname</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">103</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">affiliation_city</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">416</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">affiliation_country</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">continent</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prism:url</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">dc:identifier</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">dc:title</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">222</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">485</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dc:creator</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">427</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:publicationName</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">167</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prism:issn</td>
<td style="text-align: right;">219</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:eIssn</td>
<td style="text-align: right;">681</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prism:volume</td>
<td style="text-align: right;">501</td>
<td style="text-align: right;">0.67</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:issueIdentifier</td>
<td style="text-align: right;">673</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prism:pageRange</td>
<td style="text-align: right;">325</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">390</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:coverDate</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">prism:coverDisplayDate</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">230</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:doi</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">462</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dc:description</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">203</td>
<td style="text-align: right;">5086</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">483</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">prism:aggregationType</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">subtype</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">subtypeDescription</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">authkeywords</td>
<td style="text-align: right;">185</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">318</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">430</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">source_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fund_no</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">freetoread.value.$</td>
<td style="text-align: right;">1132</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">freetoreadLabel.value.$</td>
<td style="text-align: right;">1132</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">fund_acr</td>
<td style="text-align: right;">1154</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fund_sponsor</td>
<td style="text-align: right;">1141</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">94</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">pii</td>
<td style="text-align: right;">1316</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">article_number</td>
<td style="text-align: right;">1285</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">subjects_area</td>
<td style="text-align: right;">153</td>
<td style="text-align: right;">0.90</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">251</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: logical</strong></p>
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: left;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="citation" data-cites="_fa">(<a href="#ref-_fa" role="doc-biblioref"><strong>_fa?</strong></a>)</span></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">TRU: 1498</td>
</tr>
<tr class="even">
<td style="text-align: left;">afid.@_fa</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">TRU: 1382</td>
</tr>
<tr class="odd">
<td style="text-align: left;">openaccess</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: left;">FAL: 1301, TRU: 197</td>
</tr>
<tr class="even">
<td style="text-align: left;">openaccessFlag</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: left;">FAL: 1301, TRU: 197</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marketing</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: left;">TRU: 1226, FAL: 272</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 22%">
<col style="width: 11%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="citation" data-cites="seq">(<a href="#ref-seq" role="doc-biblioref"><strong>seq?</strong></a>)</span></td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2.37</td>
<td style="text-align: right;">1.47</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">citedby_count</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">22.28</td>
<td style="text-align: right;">59.27</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">495</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">author_count.@limit</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">author_count.@total</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">3.75</td>
<td style="text-align: right;">1.80</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">▇▅▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">author_count</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">3.75</td>
<td style="text-align: right;">1.80</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">▇▅▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2019.47</td>
<td style="text-align: right;">4.61</td>
<td style="text-align: right;">1992</td>
<td style="text-align: right;">2019</td>
<td style="text-align: right;">2021</td>
<td style="text-align: right;">2022</td>
<td style="text-align: right;">2023</td>
<td style="text-align: left;">▁▁▁▁▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nref</td>
<td style="text-align: right;">153</td>
<td style="text-align: right;">0.9</td>
<td style="text-align: right;">63.94</td>
<td style="text-align: right;">44.92</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">311</td>
<td style="text-align: left;">▇▆▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="check-name-of-authors" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="check-name-of-authors"><span class="header-section-number">2.2</span> Check name of authors</h3>
<p>We need to check if there are more than one unique <code>authorname</code> per <code>authid</code>. If so, we need to change the different names of author to the same name in order to have the exact same node per author later in the network.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(authid, authname, entry_number) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n_distinct</span>(authname) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(authid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>result <span class="sc">%&gt;%</span> <span class="fu">reactable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3cd68891380ec795c792" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3cd68891380ec795c792">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"authid":["57210597224","57189367543","56233503500","58193152000","7003743717","13805392100","55520009700","57192699976","57207932854","7004399351","55294413800","7101962114","26435082100","57113646300","7004664517","56699638600","55814461100","7005227018","57192993903","8327167000","7003609866","25637923200","57211430198","7004159593","57194864072"],"authname":["Lee J.k.","Luangrath A.W.","Villarroel Ordenes F.","Stupavsky I.","Moe W.W.","Schweidel D.A.","de Regt A.","Pitt C.","Cooper H.B.","Ewing M.T.","Rocklage M.D.","Tsao H.Y.","Campbell C.","Ozansoy Çadırcı T.","de Ruyter K.","Mulcahy R.","Álvarez G.P.J.","Pitt L.","Chavan G.","Fresneda J.E.","Allenby G.M.","van Laer T.","Bin Ahmadon M.A.","Kamakura W.A.","Lee C.C."],"entry_number":["3","19","23","39","56","56","62","67","94","94","101","104","104","106","116","129","136","214","244","249","273","322","347","397","439"],"n":[3,3,4,2,3,5,3,5,2,4,4,2,2,2,5,2,2,5,2,2,2,2,2,2,2]},"columns":[{"id":"authid","name":"authid","type":"character"},{"id":"authname","name":"authname","type":"character"},{"id":"entry_number","name":"entry_number","type":"character"},{"id":"n","name":"n","type":"numeric"}],"dataKey":"ddcb9a217f9be837f71c05576131a3bc"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>number_duplicates <span class="ot">&lt;-</span> <span class="fu">nrow</span>(result)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There are "</span>, number_duplicates, <span class="st">" authors registered with different names."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are  25  authors registered with different names.</code></pre>
</div>
</div>
</section>
<section id="correct-the-duplicate-names" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="correct-the-duplicate-names"><span class="header-section-number">2.3</span> Correct the duplicate names</h3>
<p>Let’s correct that by using one property of the distinct function: the <code>.keep_all = TRUE</code> parameter. It keeps the first occurrence of each group, which is the first row encountered for each unique combination of <code>authid</code> and <code>authname</code>. It will be faster than manually changing the name of each author.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge list_articles with result on the authid column</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>merged_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(list_articles, result, <span class="at">by =</span> <span class="st">"authid"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace authname values in list_articles with those from result</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>list_articles<span class="sc">$</span>authname <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(merged_df<span class="sc">$</span>authname.y), merged_df<span class="sc">$</span>authname.y, list_articles<span class="sc">$</span>authname)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep only marketing articles and filter "Erratum" type of publications (=correction)</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>list_articles <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(marketing <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(subtypeDescription <span class="sc">!=</span> <span class="st">"Erratum"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There are"</span>, <span class="fu">n_distinct</span>(list_articles<span class="sc">$</span>entry_number), <span class="st">"articles and"</span>, <span class="fu">n_distinct</span>(list_articles<span class="sc">$</span>authname), <span class="st">"authors overall in the data."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 404 articles and 976 authors overall in the data.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the updated dataframe to a CSV file </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv2</span>(list_articles, <span class="st">"nlp_full_data_final_unique_author_names.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>It is now done. We can check again if there are more than one unique <code>authorname</code> per <code>authid</code>.</p>
</section>
<section id="verification-of-duplicate-names" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="verification-of-duplicate-names"><span class="header-section-number">2.4</span> Verification of duplicate names</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(authid, authname, entry_number) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n_distinct</span>(authname) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(authid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(entry_number)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>result <span class="sc">%&gt;%</span> <span class="fu">reactable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-854e4faa016fdb5d11fe" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-854e4faa016fdb5d11fe">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"entry_number":[],"authid":[],"authname":[],"n":[]},"columns":[{"id":"entry_number","name":"entry_number","type":"character"},{"id":"authid","name":"authid","type":"character"},{"id":"authname","name":"authname","type":"character"},{"id":"n","name":"n","type":"numeric"}],"dataKey":"653c35af9b801b666f70290551abf231"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>It’s alright, we can now continue on constructing the data frames for the networks.</p>
</section>
</section>
<section id="co-authorship-networks" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="co-authorship-networks"><span class="header-section-number">3</span> Co-authorship networks</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#G = nx.from_pandas_edgelist(network_data_2022_2023, 'authname1', 'authname2', edge_attr='value', create_using=nx.Graph())</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="network-basic-visualization" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="network-basic-visualization"><span class="header-section-number">3.1</span> Network basic visualization</h3>
<p>This is a basic visualization done with the NetworkX library and matplotlib.</p>
<div class="cell" data-layout-align="center">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Visualization of the co-authorship network for the 2022-2023 period, created using NetworkX and matplotlib.</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.figure(figsize=(20,20))</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#pos = nx.kamada_kawai_layout(G)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.draw(G, with_labels=True, node_color='skyblue', edge_cmap=plt.cm.Blues, pos=pos)</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is not interactive and the result is not enlightening at all. We then decide to use <code>Pyvis</code> to create an interactive visualization.</p>
</div>
</div>
</section>
<section id="network-visualization-with-pyvis" class="level3 page-columns page-full" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="network-visualization-with-pyvis"><span class="header-section-number">3.2</span> Network visualization with Pyvis</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pyvis enables us to create interactive visualizations and modify the network layout in real time with the <code>net.show_buttons(filter_=['physics'])</code> command. This button then generates options to include in our code by using the <code>net.set_options()</code> function. <a href="https://pyvis.readthedocs.io/en/latest/tutorial.html#using-the-configuration-ui-to-dynamically-tweak-network-settings" title="button physics Pyvis">More information here</a>.</p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-pyvis</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#from pyvis.network import Network</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#net = Network(notebook=True, cdn_resources='remote', width=1500, height=900, bgcolor="white", font_color="black")</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#net.show_buttons(filter_=['physics'])</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#net.set_options("""</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#const options = {</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  "physics": {</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    "forceAtlas2Based": {</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#      "gravitationalConstant": -13,</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#      "centralGravity": 0.015,</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#      "springLength": 70</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#    },</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#    "minVelocity": 0.75,</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">#    "solver": "forceAtlas2Based"</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#  }</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co">#""")</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree = dict(G.degree)</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="co">## Some values for nodes</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiply node sizes by two</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_doubled = {node: 2 * degree for node, degree in node_degree.items()}</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_centrality = nx.degree_centrality(G)</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_betweenness = nx.betweenness_centrality(G)</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_closeness = nx.closeness_centrality(G)</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_constraint = nx.constraint(G)</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the node attributes with the doubled sizes</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_doubled, 'size')</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_centrality, 'centrality')</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_betweenness, 'betweenness')</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_closeness, 'closeness')</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_constraint, 'constraint')</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a><span class="co">##nx.set_node_attributes(G, affilauthor_2022_2023, 'affiliation')</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, countryauthor_2022_2023, 'country')</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, citations_2022_2023, 'citations')</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, article_2022_2023, 'title')</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, journal_2022_2023, 'journal')</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a><span class="co">#listnodes = net.nodes</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="co">#net.nodes.__getitem__(1)</span></span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="co">#listnodes = net.nodes</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a><span class="co">#net.from_nx(G)</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a><span class="co">#net.show("networks/authors/network_2022_2023_pyvis.html")</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<iframe width="1500" height="900" src="networks/authors/network_2022_2023_pyvis.html" title="Quarto Documentation" frameborder="0" class="column-page"></iframe>
</section>
<section id="detect-communities-with-louvains-algorithm" class="level3 page-columns page-full" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="detect-communities-with-louvains-algorithm"><span class="header-section-number">3.3</span> Detect communities with Louvain’s algorithm</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: community-detection-louvain</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#import community as community_louvain</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the best partition</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#communities = community_louvain.best_partition(G)</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#dftest = pd.DataFrame(list(communities.items()), columns=['authname', 'community'])</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, communities, 'group')</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-pyvis-louvain</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net = Network(notebook=True, cdn_resources='remote', width=1500, height=900, bgcolor="white", font_color="black")</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.set_options("""</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#const options = {</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  "physics": {</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    "forceAtlas2Based": {</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#      "gravitationalConstant": -13,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      "centralGravity": 0.015,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      "springLength": 50</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#    },</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    "minVelocity": 0.75,</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    "solver": "forceAtlas2Based"</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  }</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#""")</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.from_nx(G)</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.show("networks/authors/network_2022_2023_louvain_pyvis.html")</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<iframe width="1500" height="900" src="networks/authors/network_2022_2023_louvain_pyvis.html" title="network_2022_2023_louvain" frameborder="0" class="column-page"></iframe>
</section>
<section id="network-visualization-with-ipysigma-pliquehal-03903518v1" class="level3 page-columns page-full" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="network-visualization-with-ipysigma-pliquehal-03903518v1"><span class="header-section-number">3.4</span> Network visualization with ipysigma <span class="citation" data-cites="plique:hal-03903518v1">(<a href="#ref-plique:hal-03903518v1" role="doc-biblioref">Plique 2022</a>)</span></h3>
<section id="a-function-to-graph-them-all" class="level4 page-columns page-full" data-number="3.4.1">
<h4 data-number="3.4.1" class="anchored" data-anchor-id="a-function-to-graph-them-all"><span class="header-section-number">3.4.1</span> A function to graph them all</h4>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/graph_ring.png" class="img-fluid figure-img" width="289"></p>
</figure>
</div>
</div></div><div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Constants</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>COLUMNS_TO_COLLECT <span class="op">=</span> [</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'affilname'</span>, <span class="st">'affiliation_country'</span>, <span class="st">'dc:title'</span>, <span class="st">'prism:publicationName'</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'subtypeDescription'</span>, <span class="st">'year'</span>, <span class="st">'citedby_count'</span>, <span class="st">'subjects_area'</span>, <span class="st">'authkeywords'</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_author_info(filtered_articles, columns):</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Given a DataFrame of filtered articles and a list of column names,</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">    this function collects author information and returns it as a dictionary.</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    author_info <span class="op">=</span> {col: {} <span class="cf">for</span> col <span class="kw">in</span> columns}</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    author_info[<span class="st">"citations"</span>] <span class="op">=</span> {}</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> filtered_articles.iterrows():</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        author_name <span class="op">=</span> row[<span class="st">'authname'</span>]</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> pd.notna(row[<span class="st">'citedby_count'</span>]):</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>            author_info[<span class="st">"citations"</span>][author_name] <span class="op">=</span> author_info[<span class="st">"citations"</span>].get(author_name, <span class="dv">0</span>) <span class="op">+</span> row[<span class="st">'citedby_count'</span>]</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>            value <span class="op">=</span> row[col]</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.notna(value):</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>                value <span class="op">=</span> <span class="bu">str</span>(value).strip()</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> author_name <span class="kw">in</span> author_info[col]:</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> value <span class="kw">not</span> <span class="kw">in</span> author_info[col][author_name]:</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>                        author_info[col][author_name] <span class="op">+=</span> <span class="st">" | "</span> <span class="op">+</span> value</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>                    author_info[col][author_name] <span class="op">=</span> value</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> author_info</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sigma_graph(dataframe, start_year, end_year):</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="co">    Creates a graph representing author collaborations based on a given DataFrame of articles.</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="co">    Filters the articles based on the given start and end years.</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Error handling</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> dataframe.empty:</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"The DataFrame is empty."</span>)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> column <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> column <span class="kw">not</span> <span class="kw">in</span> dataframe.columns:</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"The DataFrame is missing the column: </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>    list_articles <span class="op">=</span> dataframe</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>    filtered_articles <span class="op">=</span> list_articles[(list_articles[<span class="st">'year'</span>] <span class="op">&gt;=</span> start_year) <span class="op">&amp;</span> (list_articles[<span class="st">'year'</span>] <span class="op">&lt;=</span> end_year)]</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>    author_pairs <span class="op">=</span> []</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> filtered_articles.groupby(<span class="st">'entry_number'</span>)[[<span class="st">'authid'</span>, <span class="st">'authname'</span>]].agg(<span class="bu">list</span>).reset_index()</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> grouped.iterrows():</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>        entry_number <span class="op">=</span> row[<span class="st">'entry_number'</span>]</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>        authors <span class="op">=</span> row[<span class="st">'authid'</span>]</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>        authnames <span class="op">=</span> row[<span class="st">'authname'</span>]</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(authors) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>            author_pairs.append((entry_number, authors[<span class="dv">0</span>], authors[<span class="dv">0</span>], authnames[<span class="dv">0</span>], authnames[<span class="dv">0</span>]))</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="bu">len</span>(authors) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>            author_combinations <span class="op">=</span> <span class="bu">list</span>(combinations(<span class="bu">range</span>(<span class="bu">len</span>(authors)), <span class="dv">2</span>))</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i, j <span class="kw">in</span> author_combinations:</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>                author_pairs.append((entry_number, authors[i], authors[j], authnames[i], authnames[j]))</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>    result_df <span class="op">=</span> pd.DataFrame(author_pairs, columns<span class="op">=</span>[<span class="st">'entry_number'</span>, <span class="st">'authid1'</span>, <span class="st">'authid2'</span>, <span class="st">'authname1'</span>, <span class="st">'authname2'</span>])</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> result_df[[<span class="st">"authname1"</span>, <span class="st">"authname2"</span>]]</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> pd.DataFrame(np.sort(collaboration_df.values, axis<span class="op">=</span><span class="dv">1</span>), columns<span class="op">=</span>collaboration_df.columns)</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>    collaboration_df[<span class="st">'value'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> collaboration_df.groupby([<span class="st">"authname1"</span>, <span class="st">"authname2"</span>], sort<span class="op">=</span><span class="va">False</span>, as_index<span class="op">=</span><span class="va">False</span>).<span class="bu">sum</span>()</span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> nx.from_pandas_edgelist(collaboration_df, <span class="st">'authname1'</span>, <span class="st">'authname2'</span>, edge_attr<span class="op">=</span><span class="st">'value'</span>, create_using<span class="op">=</span>nx.Graph())</span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> u, v <span class="kw">in</span> G.edges:</span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>        G[u][v][<span class="st">"color"</span>] <span class="op">=</span> <span class="st">"#7D7C7C"</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> collaboration_df.iterrows():</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>        G.add_edge(row[<span class="st">'authname1'</span>], row[<span class="st">'authname2'</span>], weight<span class="op">=</span>row[<span class="st">'value'</span>])</span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>    metrics <span class="op">=</span> {</span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>        <span class="st">'centrality'</span>: nx.degree_centrality,</span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">'betweenness'</span>: nx.betweenness_centrality,</span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>        <span class="st">'closeness'</span>: nx.closeness_centrality,</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>        <span class="st">'eigenvector_centrality'</span>: partial(nx.eigenvector_centrality, max_iter<span class="op">=</span><span class="dv">1000</span>),</span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>        <span class="st">'burt_constraint_weighted'</span>: partial(nx.constraint, weight<span class="op">=</span><span class="st">"value"</span>),</span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">'burt_constraint_unweighted'</span>: nx.constraint</span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attr, func <span class="kw">in</span> metrics.items():</span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>        nx.set_node_attributes(G, func(G), attr)</span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>    author_info <span class="op">=</span> get_author_info(filtered_articles, COLUMNS_TO_COLLECT)</span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>        nx.set_node_attributes(G, author_info[col], col)</span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>    nx.set_node_attributes(G, author_info[<span class="st">'citations'</span>], <span class="st">'citations'</span>)</span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> []</span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> node <span class="kw">in</span> G.nodes():</span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a>        node_info <span class="op">=</span> {<span class="st">'Node'</span>: node}</span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a>            node_info[col] <span class="op">=</span> G.nodes[node].get(col, <span class="va">None</span>)</span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>        rows.append(node_info)</span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame(rows)</span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a>    Sigma.write_html(G,</span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a>                 default_edge_type       <span class="op">=</span> <span class="st">"curve"</span>,                                                     <span class="co"># Default edge type</span></span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a>                 clickable_edges         <span class="op">=</span> <span class="va">True</span>,                                                        <span class="co"># Clickable edges</span></span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a>                 edge_size               <span class="op">=</span> <span class="st">"value"</span>,                                                     <span class="co"># Set edge size</span></span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a>                 fullscreen              <span class="op">=</span> <span class="va">True</span>,                                                        <span class="co"># Display in fullscreen</span></span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a>                 label_density           <span class="op">=</span> <span class="dv">3</span>,                                                           <span class="co"># Label density (= increase to have more labels appear at normal zoom level)</span></span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a>                 label_font              <span class="op">=</span> <span class="st">"Helvetica Neue"</span>,                                            <span class="co"># Label font</span></span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a>                 max_categorical_colors  <span class="op">=</span> <span class="dv">10</span>,                                                          <span class="co"># Max categorical colors</span></span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a>                 node_border_color_from  <span class="op">=</span> <span class="st">'node'</span>,                                                      <span class="co"># Node border color from node attribute</span></span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a>                 node_color              <span class="op">=</span> <span class="st">"community"</span>,                                                 <span class="co"># Set node colors</span></span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a>                 node_label_size         <span class="op">=</span> <span class="st">"citations"</span>,                                                 <span class="co"># Node label size</span></span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a>                 node_label_size_range   <span class="op">=</span> (<span class="dv">12</span>, <span class="dv">36</span>),                                                    <span class="co"># Node label size range</span></span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a>                 node_metrics            <span class="op">=</span> {<span class="st">"community"</span>: {<span class="st">"name"</span>: <span class="st">"louvain"</span>, <span class="st">"resolution"</span>: <span class="dv">1</span>}},         <span class="co"># Specify node metrics</span></span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a>                 node_size               <span class="op">=</span> <span class="st">"citations"</span>,                                                 <span class="co"># Node size</span></span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a>                 node_size_range         <span class="op">=</span> (<span class="dv">3</span>, <span class="dv">30</span>),                                                     <span class="co"># Node size range</span></span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a>                 path                    <span class="op">=</span> <span class="ss">f"networks/authors/</span><span class="sc">{</span>start_year<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>end_year<span class="sc">}</span><span class="ss">_sigma_v2.html"</span>,   <span class="co"># Output file path</span></span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>                 start_layout            <span class="op">=</span> <span class="dv">3</span>,                                                           <span class="co"># Start layout algorithm</span></span>
<span id="cb16-126"><a href="#cb16-126" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#node_border_color      = "black",                                                     # Node border color</span></span>
<span id="cb16-127"><a href="#cb16-127" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#edge_color             = "#7D7C7C"                                                    # Edge color</span></span>
<span id="cb16-128"><a href="#cb16-128" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># node_label_color      = "community"                                                  # Node label color</span></span>
<span id="cb16-129"><a href="#cb16-129" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb16-130"><a href="#cb16-130" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-131"><a href="#cb16-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-132"><a href="#cb16-132" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> G, df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="co-authorship-network-for-the-2021-2023-period-click-here-for-fullscreen" class="level4 page-columns page-full" data-number="3.4.2">
<h4 data-number="3.4.2" class="anchored" data-anchor-id="co-authorship-network-for-the-2021-2023-period-click-here-for-fullscreen"><span class="header-section-number">3.4.2</span> Co-authorship network for the 2021-2023 period (<a href="https://oliviercaron.github.io/systematic_lit_review/networks/authors/2021_2023_sigma_v2.html">click here for fullscreen</a>)</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> community <span class="im">as</span> community_louvain</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix the seed for reproducibility</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>random.seed(<span class="dv">42</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>G_2021_2023, df_2021_2023 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2021</span>, <span class="dv">2023</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2021_2023, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2021-2023 network"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="networks_author_files/figure-html/network-visualization-ipysigma-2021-2023-1.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#detect how many commmunities there are in the graph</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2021_2023)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2021-2023 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 170 communities in the 2021-2023 network</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(round(nx.density(G_2022_2023), 6)))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<iframe width="1500" height="900" src="networks/authors/2021_2023_sigma_v2.html" title="Sigma graph" frameborder="0" class="column-page"></iframe>
</section>
<section id="co-authorship-network-for-the-2018-2022-period-click-here-for-fullscreen" class="level4 page-columns page-full" data-number="3.4.3">
<h4 data-number="3.4.3" class="anchored" data-anchor-id="co-authorship-network-for-the-2018-2022-period-click-here-for-fullscreen"><span class="header-section-number">3.4.3</span> Co-authorship network for the 2018-2022 period (<a href="https://oliviercaron.github.io/systematic_lit_review/networks/authors/2018_2022_sigma_v2.html">click here for fullscreen</a>)</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>G_2018_2022, df_2018_2022 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2018</span>, <span class="dv">2022</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2018_2022, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2018-2022 network"</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="networks_author_files/figure-html/network-visualization-ipysigma-2018-2022-3.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(nx.density(G_2018_2021))</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2018_2022)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2018-2022 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 179 communities in the 2018-2022 network</code></pre>
</div>
</div>
<iframe width="1500" height="900" src="networks/authors/2018_2022_sigma_v2.html" title="Sigma graph" frameborder="0" class="column-page"></iframe>
</section>
<section id="co-authorship-network-for-the-2015-2019-period-click-here-for-fullscreen" class="level4 page-columns page-full" data-number="3.4.4">
<h4 data-number="3.4.4" class="anchored" data-anchor-id="co-authorship-network-for-the-2015-2019-period-click-here-for-fullscreen"><span class="header-section-number">3.4.4</span> Co-authorship network for the 2015-2019 period (<a href="https://oliviercaron.github.io/systematic_lit_review/networks/authors/2015_2019_sigma_v2.html">click here for fullscreen</a>)</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>G_2015_2019, df_2015_2019 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2015</span>, <span class="dv">2019</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2015_2019, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2015-2019 network"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="networks_author_files/figure-html/network-visualization-ipysigma-2015-2019-5.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(nx.density(G_2013_2017))</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2015_2019)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2015-2019 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 70 communities in the 2015-2019 network</code></pre>
</div>
</div>
<iframe width="1500" height="900" src="networks/authors/2015_2019_sigma_v2.html" title="Sigma graph" frameborder="0" class="column-page"></iframe>
</section>
<section id="co-authorship-network-for-the-2014-2019-period-click-here-for-fullscreen" class="level4 page-columns page-full" data-number="3.4.5">
<h4 data-number="3.4.5" class="anchored" data-anchor-id="co-authorship-network-for-the-2014-2019-period-click-here-for-fullscreen"><span class="header-section-number">3.4.5</span> Co-authorship network for the 2014-2019 period (<a href="https://oliviercaron.github.io/systematic_lit_review/networks/authors/2014_2019_sigma_v2.html">click here for fullscreen</a>)</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>G_2014_2019, df_2014_2019 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2014</span>, <span class="dv">2019</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2014_2019, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2014-2019 network"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="networks_author_files/figure-html/network-visualization-ipysigma-2014-2019-7.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2014_2019)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2014-2019 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 77 communities in the 2014-2019 network</code></pre>
</div>
</div>
<iframe width="1500" height="900" src="networks/authors/2014_2019_sigma_v2.html" title="Sigma graph" frameborder="0" class="column-page"></iframe>
</section>
<section id="co-authorship-network-until-2015-click-here-for-fullscreen" class="level4 page-columns page-full" data-number="3.4.6">
<h4 data-number="3.4.6" class="anchored" data-anchor-id="co-authorship-network-until-2015-click-here-for-fullscreen"><span class="header-section-number">3.4.6</span> Co-authorship network until 2015 (<a href="https://oliviercaron.github.io/systematic_lit_review/networks/authors/0_2015_sigma_v2.html">click here for fullscreen</a>)</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>G_0_2015, df_0_2015 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">0</span>, <span class="dv">2015</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_0_2015, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 0-2015 network"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="networks_author_files/figure-html/network-visualization-ipysigma-until-2015-9.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_0_2015)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 0-2015 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There are 46 communities in the 0-2015 network</code></pre>
</div>
</div>
<iframe width="1500" height="900" src="networks/authors/0_2015_sigma_v2.html" title="Sigma graph" frameborder="0" class="column-page"></iframe>
</section>
</section>
<section id="an-interesting-metric-the-graph-density" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="an-interesting-metric-the-graph-density"><span class="header-section-number">3.5</span> An interesting metric: the graph density</h3>
<p>The graph density is the ratio of the number of edges to the maximum number of possible edges. It is a measure of the proportion of edges present in a graph. A graph with a high density has a large number of edges compared to the number of nodes. A graph with a low density has a small number of edges compared to the number of nodes.</p>
<p>A more formal definition is given <a href="https://networkx.org/documentation/stable/reference/generated/networkx.classes.function.density.html">here</a> by the following formulas:</p>
<ul>
<li>For undirected graphs:</li>
</ul>
<p><span class="math display">\[
\begin{equation}d=\frac{2 m}{n(n-1)}\end{equation}
\]</span></p>
<ul>
<li>For directed graphs:</li>
</ul>
<p><span class="math display">\[
\begin{equation}d=\frac{m}{n(n-1)}\end{equation}
\]</span></p>
<p>where <span class="math inline">\(n\)</span> is the number of nodes and <span class="math inline">\(m\)</span> is the number of edges in the graph.</p>
<p>From an interpretation standpoint, we can appreciate the density in the graphs bellow as follows:</p>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 91%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(d\)</span></th>
<th style="text-align: left;"><strong>Interpretation</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Close to <span class="math inline">\(0\)</span></td>
<td style="text-align: left;"><ul>
<li><p>The collaborative relationships among authors are sparse:</p></li>
<li><p>Authors have limited connections with each other outside of their community.</p></li>
<li><p>Scientific papers are primarily the work of individual authors or small isolated groups.</p></li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: center;">Close to <span class="math inline">\(1\)</span></td>
<td style="text-align: left;"><ul>
<li><p>Authors frequently collaborate with one another, leading to a web of interconnected scientific collaborations.</p></li>
<li><p>Scientific papers often involve contributions from multiple authors, reflecting a high level of teamwork and interdisciplinary research.</p></li>
<li><p>Collaborations are a significant aspect of the research process in this marketing field, and authors actively seek out opportunities to work together.</p></li>
<li><p>The network of collaborations is well-established and robust, facilitating the exchange of ideas and the advancement of scientific knowledge.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<section id="evolution-of-the-graphs-density" class="level4" data-number="3.5.1">
<h4 data-number="3.5.1" class="anchored" data-anchor-id="evolution-of-the-graphs-density"><span class="header-section-number">3.5.1</span> Evolution of the graphs’ density</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> average_degree(G):</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the sum of degrees of all nodes</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    total_degree <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">dict</span>(G.degree()).values())</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Divide by the number of nodes to get the average degree</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    avg_degree <span class="op">=</span> total_degree <span class="op">/</span> G.number_of_nodes()</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> avg_degree</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> linear_density(G):</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(G.nodes()) <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># Pour éviter une division par zéro</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(G.edges()) <span class="op">/</span> <span class="bu">len</span>(G.nodes())</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with the density of each graph</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co">#density_df = pd.DataFrame({</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'period': ['before-2013', '2013-2017', '2018-2021', '2022-2023'],</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'density': [</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_before_2013),</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2013_2017),</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2018_2021),</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2022_2023)</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>      <span class="co">#],</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'average_degree': [</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_before_2013),</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2013_2017),</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2018_2021),</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2022_2023)</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'linear_density': [</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_before_2013),</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2013_2017),</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2018_2021),</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2022_2023)</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#]</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="co">#})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#library(Hmisc)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the 'density_df' dataframe from Python using reticulate</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer &lt;- py$density_df</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the order of categories for the 'period' column</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer$period &lt;- factor(testtransfer$period, levels = c('before-2013', '2013-2017', '2018-2021', '2022-2023'))</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the 'gt()' function to display the dataframe</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer %&gt;%</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename_all(Hmisc::capitalize) %&gt;%</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#gt() %&gt;%</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#tab_style(</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#style = cell_text(weight = "bold", align = "center"),</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#locations = cells_column_labels()</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#)</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Plotly graph</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a><span class="co">#fig &lt;- plot_ly(testtransfer, x = ~period, y = ~density, type = 'scatter', mode = 'lines+markers', </span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>               <span class="co">#text = ~paste("Period=", period, "&lt;br&gt;Density=", density), hoverinfo = "text")</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the graph</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a><span class="co">#fig &lt;- fig %&gt;% layout(template = "plotly_white")</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a><span class="co">#fig</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="graph-density-of-references" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="graph-density-of-references"><span class="header-section-number">4</span> Graph density of references</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with the density of each graph</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#density_df_references = pd.DataFrame({</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'period': ['before-2013', '2013-2017', '2018-2021', '2022-2023', 'overall'],</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'density': [</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_before_2013_references), </span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2013_2017_references), </span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2018_2021_references), </span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2022_2023_references),</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_overall_references)</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'average_degree': [</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_before_2013_references),</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2013_2017_references),</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2018_2021_references),</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2022_2023_references),</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_overall_references)</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'linear_density': [</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_before_2013_references),</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2013_2017_references),</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2018_2021_references),</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2022_2023_references),</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_overall_references)</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#]</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">#})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: citations-graph-density-comparison</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.cap: Comparison of network densities and average degree of nodes over time</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: body-outset</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Density plot</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>density_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> density, <span class="at">colour =</span> <span class="st">"Collaboration Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Density:"</span>, density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> density, <span class="at">colour =</span> <span class="st">"References Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Density:"</span>, density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Graphs Density"</span>) <span class="sc">+</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Density Over Time"</span>) <span class="sc">+</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear density plot (m/n)</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>linear_density_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> linear_density, <span class="at">colour =</span> <span class="st">"Collaboration Linear Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Linear Density:"</span>, linear_density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Adjusted for the new column "linear_density"</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> linear_density, <span class="at">colour =</span> <span class="st">"References Linear Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Linear Density:"</span>, linear_density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Adjusted for the new column "linear_density"</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Graphs Linear Density"</span>) <span class="sc">+</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Linear Density Over Time"</span>) <span class="sc">+</span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create average degree plot</span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>avg_degree_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> average_degree, <span class="at">colour =</span> <span class="st">"Collaboration Average Degree"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Average Degree:"</span>, average_degree)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Corrected here</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> average_degree, <span class="at">colour =</span> <span class="st">"References Average Degree"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Average Degree:"</span>, average_degree)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Nodes Average Degree"</span>) <span class="sc">+</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Average Degree Over Time"</span>) <span class="sc">+</span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine density and average degree plots</span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>density_plot <span class="sc">/</span> linear_density_plot <span class="sc">/</span> avg_degree_plot</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"images/citations-graph-density-comparison.png"</span>, <span class="at">width=</span><span class="dv">270</span>, <span class="at">height=</span><span class="dv">180</span>, <span class="at">units=</span><span class="st">"cm"</span>, <span class="at">dpi=</span><span class="dv">300</span>)</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!-- -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-plique:hal-03903518v1" class="csl-entry" role="listitem">
Plique, Guillaume. 2022. <span>“<span class="nocase">ipysigma</span>.”</span> <a href="https://doi.org/10.5281/zenodo.7446059">https://doi.org/10.5281/zenodo.7446059</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb37" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Systematic literature review"</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> true</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "A focus on authors, articles, references with networks"</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Olivier Caron</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">    email: olivier.caron@dauphine.psl.eu</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations: </span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co">      name: "Paris Dauphine - PSL"</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co">      city: Paris</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co">      state: France</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Christophe Benavent</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="co">    email: christophe.benavent@dauphine.psl.eu</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations: </span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co">      name: "Paris Dauphine - PSL"</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co">      city: Paris</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co">      state: France</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="an">date :</span><span class="co"> "last-modified"</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="an">number-depth:</span><span class="co"> 10</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a><span class="co">    theme:</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="co">      light: yeti</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="co">      #dark: darkly</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Display code"</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true #enables to display/hide all blocks of code</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true #enables to copy code</span></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a><span class="co">    grid:</span></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="co">      body-width: 1000px</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="co">      margin-width: 100px</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a><span class="an">fig-align:</span><span class="co"> "center"</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> ayu</span></span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a><span class="an">css:</span><span class="co"> styles.css</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a><span class="an">reference-location:</span><span class="co"> margin</span></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a><span class="fu">## Purpose</span></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: introduction</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a>cowsay<span class="sc">::</span><span class="fu">say</span>(<span class="st">"After researching the articles and references by making graphs to</span></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a><span class="st">better visualize the structure of the research. We want to focus</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a><span class="st">here on the authors, trying to understand how communities evolve over time."</span>)</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a><span class="fu">## Libraries and preparing data</span></span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load-libraries-python</span></span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb37-67"><a href="#cb37-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-68"><a href="#cb37-68" aria-hidden="true" tabindex="-1"></a><span class="co">#Libraries</span></span>
<span id="cb37-69"><a href="#cb37-69" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb37-70"><a href="#cb37-70" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb37-71"><a href="#cb37-71" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> networkx <span class="im">as</span> nx</span>
<span id="cb37-72"><a href="#cb37-72" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb37-73"><a href="#cb37-73" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb37-74"><a href="#cb37-74" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb37-75"><a href="#cb37-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-76"><a href="#cb37-76" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> ipysigma <span class="im">import</span> Sigma, SigmaGrid</span>
<span id="cb37-77"><a href="#cb37-77" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> combinations</span>
<span id="cb37-78"><a href="#cb37-78" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb37-79"><a href="#cb37-79" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> partial</span>
<span id="cb37-80"><a href="#cb37-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-81"><a href="#cb37-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-82"><a href="#cb37-82" aria-hidden="true" tabindex="-1"></a><span class="co">#Data</span></span>
<span id="cb37-83"><a href="#cb37-83" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"data_final.csv"</span>)</span>
<span id="cb37-84"><a href="#cb37-84" aria-hidden="true" tabindex="-1"></a>data.rename(columns<span class="op">=</span>{<span class="st">'citedby-count'</span>: <span class="st">'citedby_count'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb37-85"><a href="#cb37-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove useless characters to keep scopus_id only (e.g. "2-s2.0-85152647358'" becomes "85152647358")</span></span>
<span id="cb37-86"><a href="#cb37-86" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'eid'</span>] <span class="op">=</span> data[<span class="st">'eid'</span>].<span class="bu">str</span>.split(<span class="st">'-'</span>).<span class="bu">str</span>[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb37-87"><a href="#cb37-87" aria-hidden="true" tabindex="-1"></a>list_articles <span class="op">=</span> pd.read_csv(<span class="st">"nlp_full_data_final_18-08-2023.csv"</span>, sep<span class="op">=</span><span class="st">';'</span>, decimal<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb37-88"><a href="#cb37-88" aria-hidden="true" tabindex="-1"></a>list_articles <span class="op">=</span> list_articles[list_articles[<span class="st">'marketing'</span>] <span class="op">==</span> <span class="dv">1</span>] <span class="co">#only marketing articles</span></span>
<span id="cb37-89"><a href="#cb37-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-90"><a href="#cb37-90" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the "topic" and "topic_name" columns from the "data" dataframe into "list_articles"</span></span>
<span id="cb37-91"><a href="#cb37-91" aria-hidden="true" tabindex="-1"></a><span class="co"># We do that to have the topic of each article in the list_articles dataframe</span></span>
<span id="cb37-92"><a href="#cb37-92" aria-hidden="true" tabindex="-1"></a>list_articles <span class="op">=</span> list_articles.merge(data[[<span class="st">'entry_number'</span>, <span class="st">'topic'</span>, <span class="st">'topic_name'</span>]], on<span class="op">=</span><span class="st">'entry_number'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb37-93"><a href="#cb37-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-94"><a href="#cb37-94" aria-hidden="true" tabindex="-1"></a>list_references <span class="op">=</span> pd.read_csv(<span class="st">"nlp_references_final_18-08-2023.csv"</span>, sep<span class="op">=</span><span class="st">';'</span>, decimal<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb37-95"><a href="#cb37-95" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-96"><a href="#cb37-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-97"><a href="#cb37-97" aria-hidden="true" tabindex="-1"></a><span class="fu">### Summary of the authors data</span></span>
<span id="cb37-98"><a href="#cb37-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-101"><a href="#cb37-101" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-102"><a href="#cb37-102" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: summary-authors-data</span></span>
<span id="cb37-103"><a href="#cb37-103" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: screen-inset-right</span></span>
<span id="cb37-104"><a href="#cb37-104" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb37-105"><a href="#cb37-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-106"><a href="#cb37-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-107"><a href="#cb37-107" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb37-108"><a href="#cb37-108" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb37-109"><a href="#cb37-109" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb37-110"><a href="#cb37-110" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb37-111"><a href="#cb37-111" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb37-112"><a href="#cb37-112" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reticulate)</span>
<span id="cb37-113"><a href="#cb37-113" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb37-114"><a href="#cb37-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-115"><a href="#cb37-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-116"><a href="#cb37-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-117"><a href="#cb37-117" aria-hidden="true" tabindex="-1"></a>list_articles <span class="ot">&lt;-</span> <span class="fu">read_csv2</span>(<span class="st">"nlp_full_data_final_18-08-2023.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-118"><a href="#cb37-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">marketing =</span> <span class="fu">as.logical</span>(marketing)) <span class="sc">%&gt;%</span></span>
<span id="cb37-119"><a href="#cb37-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">authid =</span> <span class="fu">as.character</span>(authid)) <span class="sc">%&gt;%</span></span>
<span id="cb37-120"><a href="#cb37-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">afid =</span> <span class="fu">as.character</span>(afid)) <span class="sc">%&gt;%</span></span>
<span id="cb37-121"><a href="#cb37-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">entry_number =</span> <span class="fu">as.character</span>(entry_number)) <span class="sc">%&gt;%</span></span>
<span id="cb37-122"><a href="#cb37-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source_id =</span> <span class="fu">as.character</span>(source_id)) <span class="sc">%&gt;%</span></span>
<span id="cb37-123"><a href="#cb37-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">article_number =</span> <span class="fu">as.character</span>(article_number)) <span class="sc">%&gt;%</span></span>
<span id="cb37-124"><a href="#cb37-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">openaccess =</span> <span class="fu">as.logical</span>(openaccess))</span>
<span id="cb37-125"><a href="#cb37-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-126"><a href="#cb37-126" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(list_articles) <span class="co">#%&gt;%</span></span>
<span id="cb37-127"><a href="#cb37-127" aria-hidden="true" tabindex="-1"></a>  <span class="co">#filter(!skim_type %in% c("logical"))</span></span>
<span id="cb37-128"><a href="#cb37-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-129"><a href="#cb37-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-130"><a href="#cb37-130" aria-hidden="true" tabindex="-1"></a><span class="fu">### Check name of authors</span></span>
<span id="cb37-131"><a href="#cb37-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-132"><a href="#cb37-132" aria-hidden="true" tabindex="-1"></a>We need to check if there are more than one unique <span class="in">`authorname`</span> per <span class="in">`authid`</span>. If so, we need to change the different names of author to the same name in order to have the exact same node per author later in the network.</span>
<span id="cb37-133"><a href="#cb37-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-136"><a href="#cb37-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-137"><a href="#cb37-137" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load-libraries-r</span></span>
<span id="cb37-138"><a href="#cb37-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-139"><a href="#cb37-139" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span></span>
<span id="cb37-140"><a href="#cb37-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb37-141"><a href="#cb37-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(authid, authname, entry_number) <span class="sc">%&gt;%</span></span>
<span id="cb37-142"><a href="#cb37-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb37-143"><a href="#cb37-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-144"><a href="#cb37-144" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb37-145"><a href="#cb37-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb37-146"><a href="#cb37-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n_distinct</span>(authname) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-147"><a href="#cb37-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(authid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-148"><a href="#cb37-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-149"><a href="#cb37-149" aria-hidden="true" tabindex="-1"></a>result <span class="sc">%&gt;%</span> <span class="fu">reactable</span>()</span>
<span id="cb37-150"><a href="#cb37-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-151"><a href="#cb37-151" aria-hidden="true" tabindex="-1"></a>number_duplicates <span class="ot">&lt;-</span> <span class="fu">nrow</span>(result)</span>
<span id="cb37-152"><a href="#cb37-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-153"><a href="#cb37-153" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There are "</span>, number_duplicates, <span class="st">" authors registered with different names."</span>)</span>
<span id="cb37-154"><a href="#cb37-154" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-155"><a href="#cb37-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-156"><a href="#cb37-156" aria-hidden="true" tabindex="-1"></a><span class="fu">### Correct the duplicate names</span></span>
<span id="cb37-157"><a href="#cb37-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-158"><a href="#cb37-158" aria-hidden="true" tabindex="-1"></a>Let's correct that by using one property of the distinct function: the <span class="in">`.keep_all = TRUE`</span> parameter. It keeps the first occurrence of each group, which is the first row encountered for each unique combination of <span class="in">`authid`</span> and <span class="in">`authname`</span>. It will be faster than manually changing the name of each author.</span>
<span id="cb37-159"><a href="#cb37-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-162"><a href="#cb37-162" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-163"><a href="#cb37-163" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: change-data-authors</span></span>
<span id="cb37-164"><a href="#cb37-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-165"><a href="#cb37-165" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge list_articles with result on the authid column</span></span>
<span id="cb37-166"><a href="#cb37-166" aria-hidden="true" tabindex="-1"></a>merged_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(list_articles, result, <span class="at">by =</span> <span class="st">"authid"</span>)</span>
<span id="cb37-167"><a href="#cb37-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-168"><a href="#cb37-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace authname values in list_articles with those from result</span></span>
<span id="cb37-169"><a href="#cb37-169" aria-hidden="true" tabindex="-1"></a>list_articles<span class="sc">$</span>authname <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(merged_df<span class="sc">$</span>authname.y), merged_df<span class="sc">$</span>authname.y, list_articles<span class="sc">$</span>authname)</span>
<span id="cb37-170"><a href="#cb37-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-171"><a href="#cb37-171" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep only marketing articles and filter "Erratum" type of publications (=correction)</span></span>
<span id="cb37-172"><a href="#cb37-172" aria-hidden="true" tabindex="-1"></a>list_articles <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span> </span>
<span id="cb37-173"><a href="#cb37-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(marketing <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-174"><a href="#cb37-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(subtypeDescription <span class="sc">!=</span> <span class="st">"Erratum"</span>)</span>
<span id="cb37-175"><a href="#cb37-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-176"><a href="#cb37-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-177"><a href="#cb37-177" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There are"</span>, <span class="fu">n_distinct</span>(list_articles<span class="sc">$</span>entry_number), <span class="st">"articles and"</span>, <span class="fu">n_distinct</span>(list_articles<span class="sc">$</span>authname), <span class="st">"authors overall in the data."</span>)</span>
<span id="cb37-178"><a href="#cb37-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-179"><a href="#cb37-179" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the updated dataframe to a CSV file </span></span>
<span id="cb37-180"><a href="#cb37-180" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv2</span>(list_articles, <span class="st">"nlp_full_data_final_unique_author_names.csv"</span>)</span>
<span id="cb37-181"><a href="#cb37-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-182"><a href="#cb37-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-183"><a href="#cb37-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-184"><a href="#cb37-184" aria-hidden="true" tabindex="-1"></a>It is now done. We can check again if there are more than one unique <span class="in">`authorname`</span> per <span class="in">`authid`</span>.</span>
<span id="cb37-185"><a href="#cb37-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-186"><a href="#cb37-186" aria-hidden="true" tabindex="-1"></a><span class="fu">### Verification of duplicate names</span></span>
<span id="cb37-187"><a href="#cb37-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-190"><a href="#cb37-190" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-191"><a href="#cb37-191" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: check-unique-name-authors</span></span>
<span id="cb37-192"><a href="#cb37-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-193"><a href="#cb37-193" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> list_articles <span class="sc">%&gt;%</span></span>
<span id="cb37-194"><a href="#cb37-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb37-195"><a href="#cb37-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(authid, authname, entry_number) <span class="sc">%&gt;%</span></span>
<span id="cb37-196"><a href="#cb37-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>())</span>
<span id="cb37-197"><a href="#cb37-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-198"><a href="#cb37-198" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb37-199"><a href="#cb37-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(authid) <span class="sc">%&gt;%</span></span>
<span id="cb37-200"><a href="#cb37-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n_distinct</span>(authname) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-201"><a href="#cb37-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(authid, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-202"><a href="#cb37-202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(entry_number)</span>
<span id="cb37-203"><a href="#cb37-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-204"><a href="#cb37-204" aria-hidden="true" tabindex="-1"></a>result <span class="sc">%&gt;%</span> <span class="fu">reactable</span>()</span>
<span id="cb37-205"><a href="#cb37-205" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-206"><a href="#cb37-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-207"><a href="#cb37-207" aria-hidden="true" tabindex="-1"></a>It's alright, we can now continue on constructing the data frames for the networks.</span>
<span id="cb37-208"><a href="#cb37-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-209"><a href="#cb37-209" aria-hidden="true" tabindex="-1"></a><span class="fu">## Co-authorship networks</span></span>
<span id="cb37-210"><a href="#cb37-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-213"><a href="#cb37-213" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-214"><a href="#cb37-214" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-creation</span></span>
<span id="cb37-215"><a href="#cb37-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-216"><a href="#cb37-216" aria-hidden="true" tabindex="-1"></a><span class="co">#G = nx.from_pandas_edgelist(network_data_2022_2023, 'authname1', 'authname2', edge_attr='value', create_using=nx.Graph())</span></span>
<span id="cb37-217"><a href="#cb37-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-218"><a href="#cb37-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-219"><a href="#cb37-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-220"><a href="#cb37-220" aria-hidden="true" tabindex="-1"></a><span class="fu">### Network basic visualization</span></span>
<span id="cb37-221"><a href="#cb37-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-222"><a href="#cb37-222" aria-hidden="true" tabindex="-1"></a>This is a basic visualization done with the NetworkX library and matplotlib.</span>
<span id="cb37-223"><a href="#cb37-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-226"><a href="#cb37-226" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-227"><a href="#cb37-227" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization</span></span>
<span id="cb37-228"><a href="#cb37-228" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb37-229"><a href="#cb37-229" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Visualization of the co-authorship network for the 2022-2023 period, created using NetworkX and matplotlib.</span></span>
<span id="cb37-230"><a href="#cb37-230" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb37-231"><a href="#cb37-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-232"><a href="#cb37-232" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.figure(figsize=(20,20))</span></span>
<span id="cb37-233"><a href="#cb37-233" aria-hidden="true" tabindex="-1"></a><span class="co">#pos = nx.kamada_kawai_layout(G)</span></span>
<span id="cb37-234"><a href="#cb37-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-235"><a href="#cb37-235" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.draw(G, with_labels=True, node_color='skyblue', edge_cmap=plt.cm.Blues, pos=pos)</span></span>
<span id="cb37-236"><a href="#cb37-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-237"><a href="#cb37-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-238"><a href="#cb37-238" aria-hidden="true" tabindex="-1"></a>::: callout-caution</span>
<span id="cb37-239"><a href="#cb37-239" aria-hidden="true" tabindex="-1"></a>This is not interactive and the result is not enlightening at all. We then decide to use <span class="in">`Pyvis`</span> to create an interactive visualization.</span>
<span id="cb37-240"><a href="#cb37-240" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb37-241"><a href="#cb37-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-242"><a href="#cb37-242" aria-hidden="true" tabindex="-1"></a><span class="fu">### Network visualization with Pyvis</span></span>
<span id="cb37-243"><a href="#cb37-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-244"><a href="#cb37-244" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb37-245"><a href="#cb37-245" aria-hidden="true" tabindex="-1"></a>Pyvis enables us to create interactive visualizations and modify the network layout in real time with the <span class="in">`net.show_buttons(filter_=['physics'])`</span> command. This button then generates options to include in our code by using the <span class="in">`net.set_options()`</span> function. <span class="co">[</span><span class="ot">More information here</span><span class="co">](https://pyvis.readthedocs.io/en/latest/tutorial.html#using-the-configuration-ui-to-dynamically-tweak-network-settings "button physics Pyvis")</span>.</span>
<span id="cb37-246"><a href="#cb37-246" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb37-247"><a href="#cb37-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-250"><a href="#cb37-250" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-251"><a href="#cb37-251" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-pyvis</span></span>
<span id="cb37-252"><a href="#cb37-252" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb37-253"><a href="#cb37-253" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb37-254"><a href="#cb37-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-255"><a href="#cb37-255" aria-hidden="true" tabindex="-1"></a><span class="co">#from pyvis.network import Network</span></span>
<span id="cb37-256"><a href="#cb37-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-257"><a href="#cb37-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-258"><a href="#cb37-258" aria-hidden="true" tabindex="-1"></a><span class="co">#net = Network(notebook=True, cdn_resources='remote', width=1500, height=900, bgcolor="white", font_color="black")</span></span>
<span id="cb37-259"><a href="#cb37-259" aria-hidden="true" tabindex="-1"></a><span class="co">#net.show_buttons(filter_=['physics'])</span></span>
<span id="cb37-260"><a href="#cb37-260" aria-hidden="true" tabindex="-1"></a><span class="co">#net.set_options("""</span></span>
<span id="cb37-261"><a href="#cb37-261" aria-hidden="true" tabindex="-1"></a><span class="co">#const options = {</span></span>
<span id="cb37-262"><a href="#cb37-262" aria-hidden="true" tabindex="-1"></a><span class="co">#  "physics": {</span></span>
<span id="cb37-263"><a href="#cb37-263" aria-hidden="true" tabindex="-1"></a><span class="co">#    "forceAtlas2Based": {</span></span>
<span id="cb37-264"><a href="#cb37-264" aria-hidden="true" tabindex="-1"></a><span class="co">#      "gravitationalConstant": -13,</span></span>
<span id="cb37-265"><a href="#cb37-265" aria-hidden="true" tabindex="-1"></a><span class="co">#      "centralGravity": 0.015,</span></span>
<span id="cb37-266"><a href="#cb37-266" aria-hidden="true" tabindex="-1"></a><span class="co">#      "springLength": 70</span></span>
<span id="cb37-267"><a href="#cb37-267" aria-hidden="true" tabindex="-1"></a><span class="co">#    },</span></span>
<span id="cb37-268"><a href="#cb37-268" aria-hidden="true" tabindex="-1"></a><span class="co">#    "minVelocity": 0.75,</span></span>
<span id="cb37-269"><a href="#cb37-269" aria-hidden="true" tabindex="-1"></a><span class="co">#    "solver": "forceAtlas2Based"</span></span>
<span id="cb37-270"><a href="#cb37-270" aria-hidden="true" tabindex="-1"></a><span class="co">#  }</span></span>
<span id="cb37-271"><a href="#cb37-271" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb37-272"><a href="#cb37-272" aria-hidden="true" tabindex="-1"></a><span class="co">#""")</span></span>
<span id="cb37-273"><a href="#cb37-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-274"><a href="#cb37-274" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree = dict(G.degree)</span></span>
<span id="cb37-275"><a href="#cb37-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-276"><a href="#cb37-276" aria-hidden="true" tabindex="-1"></a><span class="co">## Some values for nodes</span></span>
<span id="cb37-277"><a href="#cb37-277" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiply node sizes by two</span></span>
<span id="cb37-278"><a href="#cb37-278" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_doubled = {node: 2 * degree for node, degree in node_degree.items()}</span></span>
<span id="cb37-279"><a href="#cb37-279" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_centrality = nx.degree_centrality(G)</span></span>
<span id="cb37-280"><a href="#cb37-280" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_betweenness = nx.betweenness_centrality(G)</span></span>
<span id="cb37-281"><a href="#cb37-281" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_closeness = nx.closeness_centrality(G)</span></span>
<span id="cb37-282"><a href="#cb37-282" aria-hidden="true" tabindex="-1"></a><span class="co">#node_degree_constraint = nx.constraint(G)</span></span>
<span id="cb37-283"><a href="#cb37-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-284"><a href="#cb37-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-285"><a href="#cb37-285" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the node attributes with the doubled sizes</span></span>
<span id="cb37-286"><a href="#cb37-286" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_doubled, 'size')</span></span>
<span id="cb37-287"><a href="#cb37-287" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_centrality, 'centrality')</span></span>
<span id="cb37-288"><a href="#cb37-288" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_betweenness, 'betweenness')</span></span>
<span id="cb37-289"><a href="#cb37-289" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_closeness, 'closeness')</span></span>
<span id="cb37-290"><a href="#cb37-290" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, node_degree_constraint, 'constraint')</span></span>
<span id="cb37-291"><a href="#cb37-291" aria-hidden="true" tabindex="-1"></a><span class="co">##nx.set_node_attributes(G, affilauthor_2022_2023, 'affiliation')</span></span>
<span id="cb37-292"><a href="#cb37-292" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, countryauthor_2022_2023, 'country')</span></span>
<span id="cb37-293"><a href="#cb37-293" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, citations_2022_2023, 'citations')</span></span>
<span id="cb37-294"><a href="#cb37-294" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, article_2022_2023, 'title')</span></span>
<span id="cb37-295"><a href="#cb37-295" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, journal_2022_2023, 'journal')</span></span>
<span id="cb37-296"><a href="#cb37-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-297"><a href="#cb37-297" aria-hidden="true" tabindex="-1"></a><span class="co">#listnodes = net.nodes</span></span>
<span id="cb37-298"><a href="#cb37-298" aria-hidden="true" tabindex="-1"></a><span class="co">#net.nodes.__getitem__(1)</span></span>
<span id="cb37-299"><a href="#cb37-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-300"><a href="#cb37-300" aria-hidden="true" tabindex="-1"></a><span class="co">#listnodes = net.nodes</span></span>
<span id="cb37-301"><a href="#cb37-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-302"><a href="#cb37-302" aria-hidden="true" tabindex="-1"></a><span class="co">#net.from_nx(G)</span></span>
<span id="cb37-303"><a href="#cb37-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-304"><a href="#cb37-304" aria-hidden="true" tabindex="-1"></a><span class="co">#net.show("networks/authors/network_2022_2023_pyvis.html")</span></span>
<span id="cb37-305"><a href="#cb37-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-306"><a href="#cb37-306" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-307"><a href="#cb37-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-308"><a href="#cb37-308" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-309"><a href="#cb37-309" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/network_2022_2023_pyvis.html" title="Quarto Documentation" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-310"><a href="#cb37-310" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-311"><a href="#cb37-311" aria-hidden="true" tabindex="-1"></a><span class="fu">### Detect communities with Louvain's algorithm</span></span>
<span id="cb37-312"><a href="#cb37-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-315"><a href="#cb37-315" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-316"><a href="#cb37-316" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: community-detection-louvain</span></span>
<span id="cb37-317"><a href="#cb37-317" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb37-318"><a href="#cb37-318" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb37-319"><a href="#cb37-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-320"><a href="#cb37-320" aria-hidden="true" tabindex="-1"></a><span class="co">#import community as community_louvain</span></span>
<span id="cb37-321"><a href="#cb37-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-322"><a href="#cb37-322" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the best partition</span></span>
<span id="cb37-323"><a href="#cb37-323" aria-hidden="true" tabindex="-1"></a><span class="co">#communities = community_louvain.best_partition(G)</span></span>
<span id="cb37-324"><a href="#cb37-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-325"><a href="#cb37-325" aria-hidden="true" tabindex="-1"></a><span class="co">#dftest = pd.DataFrame(list(communities.items()), columns=['authname', 'community'])</span></span>
<span id="cb37-326"><a href="#cb37-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-327"><a href="#cb37-327" aria-hidden="true" tabindex="-1"></a><span class="co">#nx.set_node_attributes(G, communities, 'group')</span></span>
<span id="cb37-328"><a href="#cb37-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-329"><a href="#cb37-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-330"><a href="#cb37-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-333"><a href="#cb37-333" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-334"><a href="#cb37-334" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-pyvis-louvain</span></span>
<span id="cb37-335"><a href="#cb37-335" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb37-336"><a href="#cb37-336" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb37-337"><a href="#cb37-337" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net = Network(notebook=True, cdn_resources='remote', width=1500, height=900, bgcolor="white", font_color="black")</span></span>
<span id="cb37-338"><a href="#cb37-338" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.set_options("""</span></span>
<span id="cb37-339"><a href="#cb37-339" aria-hidden="true" tabindex="-1"></a><span class="co">#const options = {</span></span>
<span id="cb37-340"><a href="#cb37-340" aria-hidden="true" tabindex="-1"></a><span class="co">#  "physics": {</span></span>
<span id="cb37-341"><a href="#cb37-341" aria-hidden="true" tabindex="-1"></a><span class="co">#    "forceAtlas2Based": {</span></span>
<span id="cb37-342"><a href="#cb37-342" aria-hidden="true" tabindex="-1"></a><span class="co">#      "gravitationalConstant": -13,</span></span>
<span id="cb37-343"><a href="#cb37-343" aria-hidden="true" tabindex="-1"></a><span class="co">#      "centralGravity": 0.015,</span></span>
<span id="cb37-344"><a href="#cb37-344" aria-hidden="true" tabindex="-1"></a><span class="co">#      "springLength": 50</span></span>
<span id="cb37-345"><a href="#cb37-345" aria-hidden="true" tabindex="-1"></a><span class="co">#    },</span></span>
<span id="cb37-346"><a href="#cb37-346" aria-hidden="true" tabindex="-1"></a><span class="co">#    "minVelocity": 0.75,</span></span>
<span id="cb37-347"><a href="#cb37-347" aria-hidden="true" tabindex="-1"></a><span class="co">#    "solver": "forceAtlas2Based"</span></span>
<span id="cb37-348"><a href="#cb37-348" aria-hidden="true" tabindex="-1"></a><span class="co">#  }</span></span>
<span id="cb37-349"><a href="#cb37-349" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb37-350"><a href="#cb37-350" aria-hidden="true" tabindex="-1"></a><span class="co">#""")</span></span>
<span id="cb37-351"><a href="#cb37-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-352"><a href="#cb37-352" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.from_nx(G)</span></span>
<span id="cb37-353"><a href="#cb37-353" aria-hidden="true" tabindex="-1"></a><span class="co">#com_net.show("networks/authors/network_2022_2023_louvain_pyvis.html")</span></span>
<span id="cb37-354"><a href="#cb37-354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-355"><a href="#cb37-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-356"><a href="#cb37-356" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-357"><a href="#cb37-357" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/network_2022_2023_louvain_pyvis.html" title="network_2022_2023_louvain" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-358"><a href="#cb37-358" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-359"><a href="#cb37-359" aria-hidden="true" tabindex="-1"></a><span class="fu">### Network visualization with ipysigma [@plique:hal-03903518v1]</span></span>
<span id="cb37-360"><a href="#cb37-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-361"><a href="#cb37-361" aria-hidden="true" tabindex="-1"></a><span class="fu">#### A function to graph them all</span></span>
<span id="cb37-362"><a href="#cb37-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-363"><a href="#cb37-363" aria-hidden="true" tabindex="-1"></a>::: column-margin</span>
<span id="cb37-364"><a href="#cb37-364" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/graph_ring.png)</span>{fig-align="center" width="289"}</span>
<span id="cb37-365"><a href="#cb37-365" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb37-366"><a href="#cb37-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-369"><a href="#cb37-369" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-370"><a href="#cb37-370" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: function-ipysigma-network</span></span>
<span id="cb37-371"><a href="#cb37-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-372"><a href="#cb37-372" aria-hidden="true" tabindex="-1"></a><span class="co"># Constants</span></span>
<span id="cb37-373"><a href="#cb37-373" aria-hidden="true" tabindex="-1"></a>COLUMNS_TO_COLLECT <span class="op">=</span> [</span>
<span id="cb37-374"><a href="#cb37-374" aria-hidden="true" tabindex="-1"></a>    <span class="st">'affilname'</span>, <span class="st">'affiliation_country'</span>, <span class="st">'dc:title'</span>, <span class="st">'prism:publicationName'</span>,</span>
<span id="cb37-375"><a href="#cb37-375" aria-hidden="true" tabindex="-1"></a>    <span class="st">'subtypeDescription'</span>, <span class="st">'year'</span>, <span class="st">'citedby_count'</span>, <span class="st">'subjects_area'</span>, <span class="st">'authkeywords'</span></span>
<span id="cb37-376"><a href="#cb37-376" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb37-377"><a href="#cb37-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-378"><a href="#cb37-378" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_author_info(filtered_articles, columns):</span>
<span id="cb37-379"><a href="#cb37-379" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb37-380"><a href="#cb37-380" aria-hidden="true" tabindex="-1"></a><span class="co">    Given a DataFrame of filtered articles and a list of column names,</span></span>
<span id="cb37-381"><a href="#cb37-381" aria-hidden="true" tabindex="-1"></a><span class="co">    this function collects author information and returns it as a dictionary.</span></span>
<span id="cb37-382"><a href="#cb37-382" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb37-383"><a href="#cb37-383" aria-hidden="true" tabindex="-1"></a>    author_info <span class="op">=</span> {col: {} <span class="cf">for</span> col <span class="kw">in</span> columns}</span>
<span id="cb37-384"><a href="#cb37-384" aria-hidden="true" tabindex="-1"></a>    author_info[<span class="st">"citations"</span>] <span class="op">=</span> {}</span>
<span id="cb37-385"><a href="#cb37-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-386"><a href="#cb37-386" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> filtered_articles.iterrows():</span>
<span id="cb37-387"><a href="#cb37-387" aria-hidden="true" tabindex="-1"></a>        author_name <span class="op">=</span> row[<span class="st">'authname'</span>]</span>
<span id="cb37-388"><a href="#cb37-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-389"><a href="#cb37-389" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> pd.notna(row[<span class="st">'citedby_count'</span>]):</span>
<span id="cb37-390"><a href="#cb37-390" aria-hidden="true" tabindex="-1"></a>            author_info[<span class="st">"citations"</span>][author_name] <span class="op">=</span> author_info[<span class="st">"citations"</span>].get(author_name, <span class="dv">0</span>) <span class="op">+</span> row[<span class="st">'citedby_count'</span>]</span>
<span id="cb37-391"><a href="#cb37-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-392"><a href="#cb37-392" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb37-393"><a href="#cb37-393" aria-hidden="true" tabindex="-1"></a>            value <span class="op">=</span> row[col]</span>
<span id="cb37-394"><a href="#cb37-394" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.notna(value):</span>
<span id="cb37-395"><a href="#cb37-395" aria-hidden="true" tabindex="-1"></a>                value <span class="op">=</span> <span class="bu">str</span>(value).strip()</span>
<span id="cb37-396"><a href="#cb37-396" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> author_name <span class="kw">in</span> author_info[col]:</span>
<span id="cb37-397"><a href="#cb37-397" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> value <span class="kw">not</span> <span class="kw">in</span> author_info[col][author_name]:</span>
<span id="cb37-398"><a href="#cb37-398" aria-hidden="true" tabindex="-1"></a>                        author_info[col][author_name] <span class="op">+=</span> <span class="st">" | "</span> <span class="op">+</span> value</span>
<span id="cb37-399"><a href="#cb37-399" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb37-400"><a href="#cb37-400" aria-hidden="true" tabindex="-1"></a>                    author_info[col][author_name] <span class="op">=</span> value</span>
<span id="cb37-401"><a href="#cb37-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-402"><a href="#cb37-402" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> author_info</span>
<span id="cb37-403"><a href="#cb37-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-404"><a href="#cb37-404" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sigma_graph(dataframe, start_year, end_year):</span>
<span id="cb37-405"><a href="#cb37-405" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb37-406"><a href="#cb37-406" aria-hidden="true" tabindex="-1"></a><span class="co">    Creates a graph representing author collaborations based on a given DataFrame of articles.</span></span>
<span id="cb37-407"><a href="#cb37-407" aria-hidden="true" tabindex="-1"></a><span class="co">    Filters the articles based on the given start and end years.</span></span>
<span id="cb37-408"><a href="#cb37-408" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb37-409"><a href="#cb37-409" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Error handling</span></span>
<span id="cb37-410"><a href="#cb37-410" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> dataframe.empty:</span>
<span id="cb37-411"><a href="#cb37-411" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"The DataFrame is empty."</span>)</span>
<span id="cb37-412"><a href="#cb37-412" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb37-413"><a href="#cb37-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-414"><a href="#cb37-414" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> column <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb37-415"><a href="#cb37-415" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> column <span class="kw">not</span> <span class="kw">in</span> dataframe.columns:</span>
<span id="cb37-416"><a href="#cb37-416" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"The DataFrame is missing the column: </span><span class="sc">{</span>column<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-417"><a href="#cb37-417" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb37-418"><a href="#cb37-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-419"><a href="#cb37-419" aria-hidden="true" tabindex="-1"></a>    list_articles <span class="op">=</span> dataframe</span>
<span id="cb37-420"><a href="#cb37-420" aria-hidden="true" tabindex="-1"></a>    filtered_articles <span class="op">=</span> list_articles[(list_articles[<span class="st">'year'</span>] <span class="op">&gt;=</span> start_year) <span class="op">&amp;</span> (list_articles[<span class="st">'year'</span>] <span class="op">&lt;=</span> end_year)]</span>
<span id="cb37-421"><a href="#cb37-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-422"><a href="#cb37-422" aria-hidden="true" tabindex="-1"></a>    author_pairs <span class="op">=</span> []</span>
<span id="cb37-423"><a href="#cb37-423" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> filtered_articles.groupby(<span class="st">'entry_number'</span>)[[<span class="st">'authid'</span>, <span class="st">'authname'</span>]].agg(<span class="bu">list</span>).reset_index()</span>
<span id="cb37-424"><a href="#cb37-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-425"><a href="#cb37-425" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> grouped.iterrows():</span>
<span id="cb37-426"><a href="#cb37-426" aria-hidden="true" tabindex="-1"></a>        entry_number <span class="op">=</span> row[<span class="st">'entry_number'</span>]</span>
<span id="cb37-427"><a href="#cb37-427" aria-hidden="true" tabindex="-1"></a>        authors <span class="op">=</span> row[<span class="st">'authid'</span>]</span>
<span id="cb37-428"><a href="#cb37-428" aria-hidden="true" tabindex="-1"></a>        authnames <span class="op">=</span> row[<span class="st">'authname'</span>]</span>
<span id="cb37-429"><a href="#cb37-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-430"><a href="#cb37-430" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(authors) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb37-431"><a href="#cb37-431" aria-hidden="true" tabindex="-1"></a>            author_pairs.append((entry_number, authors[<span class="dv">0</span>], authors[<span class="dv">0</span>], authnames[<span class="dv">0</span>], authnames[<span class="dv">0</span>]))</span>
<span id="cb37-432"><a href="#cb37-432" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> <span class="bu">len</span>(authors) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb37-433"><a href="#cb37-433" aria-hidden="true" tabindex="-1"></a>            author_combinations <span class="op">=</span> <span class="bu">list</span>(combinations(<span class="bu">range</span>(<span class="bu">len</span>(authors)), <span class="dv">2</span>))</span>
<span id="cb37-434"><a href="#cb37-434" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i, j <span class="kw">in</span> author_combinations:</span>
<span id="cb37-435"><a href="#cb37-435" aria-hidden="true" tabindex="-1"></a>                author_pairs.append((entry_number, authors[i], authors[j], authnames[i], authnames[j]))</span>
<span id="cb37-436"><a href="#cb37-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-437"><a href="#cb37-437" aria-hidden="true" tabindex="-1"></a>    result_df <span class="op">=</span> pd.DataFrame(author_pairs, columns<span class="op">=</span>[<span class="st">'entry_number'</span>, <span class="st">'authid1'</span>, <span class="st">'authid2'</span>, <span class="st">'authname1'</span>, <span class="st">'authname2'</span>])</span>
<span id="cb37-438"><a href="#cb37-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-439"><a href="#cb37-439" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> result_df[[<span class="st">"authname1"</span>, <span class="st">"authname2"</span>]]</span>
<span id="cb37-440"><a href="#cb37-440" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> pd.DataFrame(np.sort(collaboration_df.values, axis<span class="op">=</span><span class="dv">1</span>), columns<span class="op">=</span>collaboration_df.columns)</span>
<span id="cb37-441"><a href="#cb37-441" aria-hidden="true" tabindex="-1"></a>    collaboration_df[<span class="st">'value'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb37-442"><a href="#cb37-442" aria-hidden="true" tabindex="-1"></a>    collaboration_df <span class="op">=</span> collaboration_df.groupby([<span class="st">"authname1"</span>, <span class="st">"authname2"</span>], sort<span class="op">=</span><span class="va">False</span>, as_index<span class="op">=</span><span class="va">False</span>).<span class="bu">sum</span>()</span>
<span id="cb37-443"><a href="#cb37-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-444"><a href="#cb37-444" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> nx.from_pandas_edgelist(collaboration_df, <span class="st">'authname1'</span>, <span class="st">'authname2'</span>, edge_attr<span class="op">=</span><span class="st">'value'</span>, create_using<span class="op">=</span>nx.Graph())</span>
<span id="cb37-445"><a href="#cb37-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-446"><a href="#cb37-446" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> u, v <span class="kw">in</span> G.edges:</span>
<span id="cb37-447"><a href="#cb37-447" aria-hidden="true" tabindex="-1"></a>        G[u][v][<span class="st">"color"</span>] <span class="op">=</span> <span class="st">"#7D7C7C"</span></span>
<span id="cb37-448"><a href="#cb37-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-449"><a href="#cb37-449" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> collaboration_df.iterrows():</span>
<span id="cb37-450"><a href="#cb37-450" aria-hidden="true" tabindex="-1"></a>        G.add_edge(row[<span class="st">'authname1'</span>], row[<span class="st">'authname2'</span>], weight<span class="op">=</span>row[<span class="st">'value'</span>])</span>
<span id="cb37-451"><a href="#cb37-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-452"><a href="#cb37-452" aria-hidden="true" tabindex="-1"></a>    metrics <span class="op">=</span> {</span>
<span id="cb37-453"><a href="#cb37-453" aria-hidden="true" tabindex="-1"></a>        <span class="st">'centrality'</span>: nx.degree_centrality,</span>
<span id="cb37-454"><a href="#cb37-454" aria-hidden="true" tabindex="-1"></a>        <span class="st">'betweenness'</span>: nx.betweenness_centrality,</span>
<span id="cb37-455"><a href="#cb37-455" aria-hidden="true" tabindex="-1"></a>        <span class="st">'closeness'</span>: nx.closeness_centrality,</span>
<span id="cb37-456"><a href="#cb37-456" aria-hidden="true" tabindex="-1"></a>        <span class="st">'eigenvector_centrality'</span>: partial(nx.eigenvector_centrality, max_iter<span class="op">=</span><span class="dv">1000</span>),</span>
<span id="cb37-457"><a href="#cb37-457" aria-hidden="true" tabindex="-1"></a>        <span class="st">'burt_constraint_weighted'</span>: partial(nx.constraint, weight<span class="op">=</span><span class="st">"value"</span>),</span>
<span id="cb37-458"><a href="#cb37-458" aria-hidden="true" tabindex="-1"></a>        <span class="st">'burt_constraint_unweighted'</span>: nx.constraint</span>
<span id="cb37-459"><a href="#cb37-459" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb37-460"><a href="#cb37-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-461"><a href="#cb37-461" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> attr, func <span class="kw">in</span> metrics.items():</span>
<span id="cb37-462"><a href="#cb37-462" aria-hidden="true" tabindex="-1"></a>        nx.set_node_attributes(G, func(G), attr)</span>
<span id="cb37-463"><a href="#cb37-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-464"><a href="#cb37-464" aria-hidden="true" tabindex="-1"></a>    author_info <span class="op">=</span> get_author_info(filtered_articles, COLUMNS_TO_COLLECT)</span>
<span id="cb37-465"><a href="#cb37-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-466"><a href="#cb37-466" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb37-467"><a href="#cb37-467" aria-hidden="true" tabindex="-1"></a>        nx.set_node_attributes(G, author_info[col], col)</span>
<span id="cb37-468"><a href="#cb37-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-469"><a href="#cb37-469" aria-hidden="true" tabindex="-1"></a>    nx.set_node_attributes(G, author_info[<span class="st">'citations'</span>], <span class="st">'citations'</span>)</span>
<span id="cb37-470"><a href="#cb37-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-471"><a href="#cb37-471" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> []</span>
<span id="cb37-472"><a href="#cb37-472" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> node <span class="kw">in</span> G.nodes():</span>
<span id="cb37-473"><a href="#cb37-473" aria-hidden="true" tabindex="-1"></a>        node_info <span class="op">=</span> {<span class="st">'Node'</span>: node}</span>
<span id="cb37-474"><a href="#cb37-474" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col <span class="kw">in</span> COLUMNS_TO_COLLECT:</span>
<span id="cb37-475"><a href="#cb37-475" aria-hidden="true" tabindex="-1"></a>            node_info[col] <span class="op">=</span> G.nodes[node].get(col, <span class="va">None</span>)</span>
<span id="cb37-476"><a href="#cb37-476" aria-hidden="true" tabindex="-1"></a>        rows.append(node_info)</span>
<span id="cb37-477"><a href="#cb37-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-478"><a href="#cb37-478" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame(rows)</span>
<span id="cb37-479"><a href="#cb37-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-480"><a href="#cb37-480" aria-hidden="true" tabindex="-1"></a>    Sigma.write_html(G,</span>
<span id="cb37-481"><a href="#cb37-481" aria-hidden="true" tabindex="-1"></a>                 default_edge_type       <span class="op">=</span> <span class="st">"curve"</span>,                                                     <span class="co"># Default edge type</span></span>
<span id="cb37-482"><a href="#cb37-482" aria-hidden="true" tabindex="-1"></a>                 clickable_edges         <span class="op">=</span> <span class="va">True</span>,                                                        <span class="co"># Clickable edges</span></span>
<span id="cb37-483"><a href="#cb37-483" aria-hidden="true" tabindex="-1"></a>                 edge_size               <span class="op">=</span> <span class="st">"value"</span>,                                                     <span class="co"># Set edge size</span></span>
<span id="cb37-484"><a href="#cb37-484" aria-hidden="true" tabindex="-1"></a>                 fullscreen              <span class="op">=</span> <span class="va">True</span>,                                                        <span class="co"># Display in fullscreen</span></span>
<span id="cb37-485"><a href="#cb37-485" aria-hidden="true" tabindex="-1"></a>                 label_density           <span class="op">=</span> <span class="dv">3</span>,                                                           <span class="co"># Label density (= increase to have more labels appear at normal zoom level)</span></span>
<span id="cb37-486"><a href="#cb37-486" aria-hidden="true" tabindex="-1"></a>                 label_font              <span class="op">=</span> <span class="st">"Helvetica Neue"</span>,                                            <span class="co"># Label font</span></span>
<span id="cb37-487"><a href="#cb37-487" aria-hidden="true" tabindex="-1"></a>                 max_categorical_colors  <span class="op">=</span> <span class="dv">10</span>,                                                          <span class="co"># Max categorical colors</span></span>
<span id="cb37-488"><a href="#cb37-488" aria-hidden="true" tabindex="-1"></a>                 node_border_color_from  <span class="op">=</span> <span class="st">'node'</span>,                                                      <span class="co"># Node border color from node attribute</span></span>
<span id="cb37-489"><a href="#cb37-489" aria-hidden="true" tabindex="-1"></a>                 node_color              <span class="op">=</span> <span class="st">"community"</span>,                                                 <span class="co"># Set node colors</span></span>
<span id="cb37-490"><a href="#cb37-490" aria-hidden="true" tabindex="-1"></a>                 node_label_size         <span class="op">=</span> <span class="st">"citations"</span>,                                                 <span class="co"># Node label size</span></span>
<span id="cb37-491"><a href="#cb37-491" aria-hidden="true" tabindex="-1"></a>                 node_label_size_range   <span class="op">=</span> (<span class="dv">12</span>, <span class="dv">36</span>),                                                    <span class="co"># Node label size range</span></span>
<span id="cb37-492"><a href="#cb37-492" aria-hidden="true" tabindex="-1"></a>                 node_metrics            <span class="op">=</span> {<span class="st">"community"</span>: {<span class="st">"name"</span>: <span class="st">"louvain"</span>, <span class="st">"resolution"</span>: <span class="dv">1</span>}},         <span class="co"># Specify node metrics</span></span>
<span id="cb37-493"><a href="#cb37-493" aria-hidden="true" tabindex="-1"></a>                 node_size               <span class="op">=</span> <span class="st">"citations"</span>,                                                 <span class="co"># Node size</span></span>
<span id="cb37-494"><a href="#cb37-494" aria-hidden="true" tabindex="-1"></a>                 node_size_range         <span class="op">=</span> (<span class="dv">3</span>, <span class="dv">30</span>),                                                     <span class="co"># Node size range</span></span>
<span id="cb37-495"><a href="#cb37-495" aria-hidden="true" tabindex="-1"></a>                 path                    <span class="op">=</span> <span class="ss">f"networks/authors/</span><span class="sc">{</span>start_year<span class="sc">}</span><span class="ss">_</span><span class="sc">{</span>end_year<span class="sc">}</span><span class="ss">_sigma_v2.html"</span>,   <span class="co"># Output file path</span></span>
<span id="cb37-496"><a href="#cb37-496" aria-hidden="true" tabindex="-1"></a>                 start_layout            <span class="op">=</span> <span class="dv">3</span>,                                                           <span class="co"># Start layout algorithm</span></span>
<span id="cb37-497"><a href="#cb37-497" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#node_border_color      = "black",                                                     # Node border color</span></span>
<span id="cb37-498"><a href="#cb37-498" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#edge_color             = "#7D7C7C"                                                    # Edge color</span></span>
<span id="cb37-499"><a href="#cb37-499" aria-hidden="true" tabindex="-1"></a>                 <span class="co"># node_label_color      = "community"                                                  # Node label color</span></span>
<span id="cb37-500"><a href="#cb37-500" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb37-501"><a href="#cb37-501" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-502"><a href="#cb37-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-503"><a href="#cb37-503" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> G, df</span>
<span id="cb37-504"><a href="#cb37-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-505"><a href="#cb37-505" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-506"><a href="#cb37-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-507"><a href="#cb37-507" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Co-authorship network for the 2021-2023 period ([click here for fullscreen](https://oliviercaron.github.io/systematic_lit_review/networks/authors/2021_2023_sigma_v2.html))</span></span>
<span id="cb37-508"><a href="#cb37-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-511"><a href="#cb37-511" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-512"><a href="#cb37-512" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-ipysigma-2021-2023</span></span>
<span id="cb37-513"><a href="#cb37-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-514"><a href="#cb37-514" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb37-515"><a href="#cb37-515" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> community <span class="im">as</span> community_louvain</span>
<span id="cb37-516"><a href="#cb37-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-517"><a href="#cb37-517" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix the seed for reproducibility</span></span>
<span id="cb37-518"><a href="#cb37-518" aria-hidden="true" tabindex="-1"></a>random.seed(<span class="dv">42</span>)</span>
<span id="cb37-519"><a href="#cb37-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-520"><a href="#cb37-520" aria-hidden="true" tabindex="-1"></a>G_2021_2023, df_2021_2023 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2021</span>, <span class="dv">2023</span>)</span>
<span id="cb37-521"><a href="#cb37-521" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2021_2023, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-522"><a href="#cb37-522" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb37-523"><a href="#cb37-523" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb37-524"><a href="#cb37-524" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2021-2023 network"</span>)</span>
<span id="cb37-525"><a href="#cb37-525" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-526"><a href="#cb37-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-527"><a href="#cb37-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-528"><a href="#cb37-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-529"><a href="#cb37-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-530"><a href="#cb37-530" aria-hidden="true" tabindex="-1"></a><span class="co">#detect how many commmunities there are in the graph</span></span>
<span id="cb37-531"><a href="#cb37-531" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2021_2023)</span>
<span id="cb37-532"><a href="#cb37-532" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2021-2023 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span>
<span id="cb37-533"><a href="#cb37-533" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(round(nx.density(G_2022_2023), 6)))</span></span>
<span id="cb37-534"><a href="#cb37-534" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-535"><a href="#cb37-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-536"><a href="#cb37-536" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-537"><a href="#cb37-537" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/2021_2023_sigma_v2.html" title="Sigma graph" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-538"><a href="#cb37-538" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-539"><a href="#cb37-539" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Co-authorship network for the 2018-2022 period ([click here for fullscreen](https://oliviercaron.github.io/systematic_lit_review/networks/authors/2018_2022_sigma_v2.html))</span></span>
<span id="cb37-540"><a href="#cb37-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-543"><a href="#cb37-543" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-544"><a href="#cb37-544" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-ipysigma-2018-2022</span></span>
<span id="cb37-545"><a href="#cb37-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-546"><a href="#cb37-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-547"><a href="#cb37-547" aria-hidden="true" tabindex="-1"></a>G_2018_2022, df_2018_2022 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2018</span>, <span class="dv">2022</span>)</span>
<span id="cb37-548"><a href="#cb37-548" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2018_2022, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-549"><a href="#cb37-549" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb37-550"><a href="#cb37-550" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb37-551"><a href="#cb37-551" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2018-2022 network"</span>)</span>
<span id="cb37-552"><a href="#cb37-552" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-553"><a href="#cb37-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-554"><a href="#cb37-554" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(nx.density(G_2018_2021))</span></span>
<span id="cb37-555"><a href="#cb37-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-556"><a href="#cb37-556" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2018_2022)</span>
<span id="cb37-557"><a href="#cb37-557" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2018-2022 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span>
<span id="cb37-558"><a href="#cb37-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-559"><a href="#cb37-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-560"><a href="#cb37-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-561"><a href="#cb37-561" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-562"><a href="#cb37-562" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/2018_2022_sigma_v2.html" title="Sigma graph" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-563"><a href="#cb37-563" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-564"><a href="#cb37-564" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Co-authorship network for the 2015-2019 period ([click here for fullscreen](https://oliviercaron.github.io/systematic_lit_review/networks/authors/2015_2019_sigma_v2.html))</span></span>
<span id="cb37-565"><a href="#cb37-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-568"><a href="#cb37-568" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-569"><a href="#cb37-569" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-ipysigma-2015-2019</span></span>
<span id="cb37-570"><a href="#cb37-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-571"><a href="#cb37-571" aria-hidden="true" tabindex="-1"></a>G_2015_2019, df_2015_2019 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2015</span>, <span class="dv">2019</span>)</span>
<span id="cb37-572"><a href="#cb37-572" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2015_2019, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-573"><a href="#cb37-573" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb37-574"><a href="#cb37-574" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb37-575"><a href="#cb37-575" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2015-2019 network"</span>)</span>
<span id="cb37-576"><a href="#cb37-576" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-577"><a href="#cb37-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-578"><a href="#cb37-578" aria-hidden="true" tabindex="-1"></a><span class="co">#print("The density of the graph is {}".format(nx.density(G_2013_2017))</span></span>
<span id="cb37-579"><a href="#cb37-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-580"><a href="#cb37-580" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2015_2019)</span>
<span id="cb37-581"><a href="#cb37-581" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2015-2019 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span>
<span id="cb37-582"><a href="#cb37-582" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-583"><a href="#cb37-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-584"><a href="#cb37-584" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-585"><a href="#cb37-585" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/2015_2019_sigma_v2.html" title="Sigma graph" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-586"><a href="#cb37-586" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-587"><a href="#cb37-587" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Co-authorship network for the 2014-2019 period ([click here for fullscreen](https://oliviercaron.github.io/systematic_lit_review/networks/authors/2014_2019_sigma_v2.html))</span></span>
<span id="cb37-588"><a href="#cb37-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-591"><a href="#cb37-591" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-592"><a href="#cb37-592" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-ipysigma-2014-2019</span></span>
<span id="cb37-593"><a href="#cb37-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-594"><a href="#cb37-594" aria-hidden="true" tabindex="-1"></a>G_2014_2019, df_2014_2019 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">2014</span>, <span class="dv">2019</span>)</span>
<span id="cb37-595"><a href="#cb37-595" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_2014_2019, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-596"><a href="#cb37-596" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb37-597"><a href="#cb37-597" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb37-598"><a href="#cb37-598" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 2014-2019 network"</span>)</span>
<span id="cb37-599"><a href="#cb37-599" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-600"><a href="#cb37-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-601"><a href="#cb37-601" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_2014_2019)</span>
<span id="cb37-602"><a href="#cb37-602" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 2014-2019 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span>
<span id="cb37-603"><a href="#cb37-603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-604"><a href="#cb37-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-605"><a href="#cb37-605" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-606"><a href="#cb37-606" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/2014_2019_sigma_v2.html" title="Sigma graph" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-607"><a href="#cb37-607" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-608"><a href="#cb37-608" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Co-authorship network until 2015 ([click here for fullscreen](https://oliviercaron.github.io/systematic_lit_review/networks/authors/0_2015_sigma_v2.html))</span></span>
<span id="cb37-609"><a href="#cb37-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-612"><a href="#cb37-612" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-613"><a href="#cb37-613" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: network-visualization-ipysigma-until-2015</span></span>
<span id="cb37-614"><a href="#cb37-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-615"><a href="#cb37-615" aria-hidden="true" tabindex="-1"></a>G_0_2015, df_0_2015 <span class="op">=</span> sigma_graph(list_articles, <span class="dv">0</span>, <span class="dv">2015</span>)</span>
<span id="cb37-616"><a href="#cb37-616" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> nx.greedy_color(G_0_2015, strategy<span class="op">=</span><span class="st">'largest_first'</span>, interchange<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb37-617"><a href="#cb37-617" aria-hidden="true" tabindex="-1"></a>colorsdf <span class="op">=</span> pd.DataFrame.from_dict(colors, orient<span class="op">=</span><span class="st">'index'</span>, columns<span class="op">=</span>[<span class="st">'color'</span>])</span>
<span id="cb37-618"><a href="#cb37-618" aria-hidden="true" tabindex="-1"></a><span class="co">#plot distribution of colors</span></span>
<span id="cb37-619"><a href="#cb37-619" aria-hidden="true" tabindex="-1"></a>colorsdf[<span class="st">'color'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), rot<span class="op">=</span><span class="dv">0</span>, title<span class="op">=</span><span class="st">"Distribution of colors in the 0-2015 network"</span>)</span>
<span id="cb37-620"><a href="#cb37-620" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb37-621"><a href="#cb37-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-622"><a href="#cb37-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-623"><a href="#cb37-623" aria-hidden="true" tabindex="-1"></a>communities <span class="op">=</span> community_louvain.best_partition(G_0_2015)</span>
<span id="cb37-624"><a href="#cb37-624" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"There are </span><span class="sc">{}</span><span class="st"> communities in the 0-2015 network"</span>.<span class="bu">format</span>(<span class="bu">len</span>(<span class="bu">set</span>(communities.values()))))</span>
<span id="cb37-625"><a href="#cb37-625" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-626"><a href="#cb37-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-627"><a href="#cb37-627" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb37-628"><a href="#cb37-628" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="1500" height="900" src="networks/authors/0_2015_sigma_v2.html" title="Sigma graph" frameborder=0 class="column-page"&gt;&lt;/iframe&gt;</span></span>
<span id="cb37-629"><a href="#cb37-629" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-630"><a href="#cb37-630" aria-hidden="true" tabindex="-1"></a><span class="fu">### An interesting metric: the graph density</span></span>
<span id="cb37-631"><a href="#cb37-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-632"><a href="#cb37-632" aria-hidden="true" tabindex="-1"></a>The graph density is the ratio of the number of edges to the maximum number of possible edges. It is a measure of the proportion of edges present in a graph. A graph with a high density has a large number of edges compared to the number of nodes. A graph with a low density has a small number of edges compared to the number of nodes.</span>
<span id="cb37-633"><a href="#cb37-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-634"><a href="#cb37-634" aria-hidden="true" tabindex="-1"></a>A more formal definition is given <span class="co">[</span><span class="ot">here</span><span class="co">](https://networkx.org/documentation/stable/reference/generated/networkx.classes.function.density.html)</span> by the following formulas:</span>
<span id="cb37-635"><a href="#cb37-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-636"><a href="#cb37-636" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>For undirected graphs:</span>
<span id="cb37-637"><a href="#cb37-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-638"><a href="#cb37-638" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb37-639"><a href="#cb37-639" aria-hidden="true" tabindex="-1"></a>\begin{equation}d=\frac{2 m}{n(n-1)}\end{equation}</span>
<span id="cb37-640"><a href="#cb37-640" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb37-641"><a href="#cb37-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-642"><a href="#cb37-642" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>For directed graphs:</span>
<span id="cb37-643"><a href="#cb37-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-644"><a href="#cb37-644" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb37-645"><a href="#cb37-645" aria-hidden="true" tabindex="-1"></a>\begin{equation}d=\frac{m}{n(n-1)}\end{equation}</span>
<span id="cb37-646"><a href="#cb37-646" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb37-647"><a href="#cb37-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-648"><a href="#cb37-648" aria-hidden="true" tabindex="-1"></a>where $n$ is the number of nodes and $m$ is the number of edges in the graph.</span>
<span id="cb37-649"><a href="#cb37-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-650"><a href="#cb37-650" aria-hidden="true" tabindex="-1"></a>From an interpretation standpoint, we can appreciate the density in the graphs bellow as follows:</span>
<span id="cb37-651"><a href="#cb37-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-652"><a href="#cb37-652" aria-hidden="true" tabindex="-1"></a>+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb37-653"><a href="#cb37-653" aria-hidden="true" tabindex="-1"></a>| $d$          | **Interpretation**                                                                                                                                         |</span>
<span id="cb37-654"><a href="#cb37-654" aria-hidden="true" tabindex="-1"></a>+:============:+:===========================================================================================================================================================+</span>
<span id="cb37-655"><a href="#cb37-655" aria-hidden="true" tabindex="-1"></a>| Close to $0$ | -   The collaborative relationships among authors are sparse:                                                                                              |</span>
<span id="cb37-656"><a href="#cb37-656" aria-hidden="true" tabindex="-1"></a>|              |                                                                                                                                                            |</span>
<span id="cb37-657"><a href="#cb37-657" aria-hidden="true" tabindex="-1"></a>|              | -   Authors have limited connections with each other outside of their community.                                                                           |</span>
<span id="cb37-658"><a href="#cb37-658" aria-hidden="true" tabindex="-1"></a>|              |                                                                                                                                                            |</span>
<span id="cb37-659"><a href="#cb37-659" aria-hidden="true" tabindex="-1"></a>|              | -   Scientific papers are primarily the work of individual authors or small isolated groups.                                                               |</span>
<span id="cb37-660"><a href="#cb37-660" aria-hidden="true" tabindex="-1"></a>+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb37-661"><a href="#cb37-661" aria-hidden="true" tabindex="-1"></a>| Close to $1$ | -   Authors frequently collaborate with one another, leading to a web of interconnected scientific collaborations.                                         |</span>
<span id="cb37-662"><a href="#cb37-662" aria-hidden="true" tabindex="-1"></a>|              |                                                                                                                                                            |</span>
<span id="cb37-663"><a href="#cb37-663" aria-hidden="true" tabindex="-1"></a>|              | -   Scientific papers often involve contributions from multiple authors, reflecting a high level of teamwork and interdisciplinary research.               |</span>
<span id="cb37-664"><a href="#cb37-664" aria-hidden="true" tabindex="-1"></a>|              |                                                                                                                                                            |</span>
<span id="cb37-665"><a href="#cb37-665" aria-hidden="true" tabindex="-1"></a>|              | -   Collaborations are a significant aspect of the research process in this marketing field, and authors actively seek out opportunities to work together. |</span>
<span id="cb37-666"><a href="#cb37-666" aria-hidden="true" tabindex="-1"></a>|              |                                                                                                                                                            |</span>
<span id="cb37-667"><a href="#cb37-667" aria-hidden="true" tabindex="-1"></a>|              | -   The network of collaborations is well-established and robust, facilitating the exchange of ideas and the advancement of scientific knowledge.          |</span>
<span id="cb37-668"><a href="#cb37-668" aria-hidden="true" tabindex="-1"></a>+--------------+------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb37-669"><a href="#cb37-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-670"><a href="#cb37-670" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Evolution of the graphs' density</span></span>
<span id="cb37-671"><a href="#cb37-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-674"><a href="#cb37-674" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-675"><a href="#cb37-675" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: evolution-graphs-density</span></span>
<span id="cb37-676"><a href="#cb37-676" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb37-677"><a href="#cb37-677" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> average_degree(G):</span>
<span id="cb37-678"><a href="#cb37-678" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the sum of degrees of all nodes</span></span>
<span id="cb37-679"><a href="#cb37-679" aria-hidden="true" tabindex="-1"></a>    total_degree <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">dict</span>(G.degree()).values())</span>
<span id="cb37-680"><a href="#cb37-680" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-681"><a href="#cb37-681" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Divide by the number of nodes to get the average degree</span></span>
<span id="cb37-682"><a href="#cb37-682" aria-hidden="true" tabindex="-1"></a>    avg_degree <span class="op">=</span> total_degree <span class="op">/</span> G.number_of_nodes()</span>
<span id="cb37-683"><a href="#cb37-683" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-684"><a href="#cb37-684" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> avg_degree</span>
<span id="cb37-685"><a href="#cb37-685" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-686"><a href="#cb37-686" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> linear_density(G):</span>
<span id="cb37-687"><a href="#cb37-687" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(G.nodes()) <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># Pour éviter une division par zéro</span></span>
<span id="cb37-688"><a href="#cb37-688" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb37-689"><a href="#cb37-689" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(G.edges()) <span class="op">/</span> <span class="bu">len</span>(G.nodes())</span>
<span id="cb37-690"><a href="#cb37-690" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-691"><a href="#cb37-691" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with the density of each graph</span></span>
<span id="cb37-692"><a href="#cb37-692" aria-hidden="true" tabindex="-1"></a><span class="co">#density_df = pd.DataFrame({</span></span>
<span id="cb37-693"><a href="#cb37-693" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'period': ['before-2013', '2013-2017', '2018-2021', '2022-2023'],</span></span>
<span id="cb37-694"><a href="#cb37-694" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'density': [</span></span>
<span id="cb37-695"><a href="#cb37-695" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_before_2013),</span></span>
<span id="cb37-696"><a href="#cb37-696" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2013_2017),</span></span>
<span id="cb37-697"><a href="#cb37-697" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2018_2021),</span></span>
<span id="cb37-698"><a href="#cb37-698" aria-hidden="true" tabindex="-1"></a>      <span class="co">#nx.density(G_2022_2023)</span></span>
<span id="cb37-699"><a href="#cb37-699" aria-hidden="true" tabindex="-1"></a>      <span class="co">#],</span></span>
<span id="cb37-700"><a href="#cb37-700" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'average_degree': [</span></span>
<span id="cb37-701"><a href="#cb37-701" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_before_2013),</span></span>
<span id="cb37-702"><a href="#cb37-702" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2013_2017),</span></span>
<span id="cb37-703"><a href="#cb37-703" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2018_2021),</span></span>
<span id="cb37-704"><a href="#cb37-704" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2022_2023)</span></span>
<span id="cb37-705"><a href="#cb37-705" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb37-706"><a href="#cb37-706" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'linear_density': [</span></span>
<span id="cb37-707"><a href="#cb37-707" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_before_2013),</span></span>
<span id="cb37-708"><a href="#cb37-708" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2013_2017),</span></span>
<span id="cb37-709"><a href="#cb37-709" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2018_2021),</span></span>
<span id="cb37-710"><a href="#cb37-710" aria-hidden="true" tabindex="-1"></a>        <span class="co">#linear_density(G_2022_2023)</span></span>
<span id="cb37-711"><a href="#cb37-711" aria-hidden="true" tabindex="-1"></a>    <span class="co">#]</span></span>
<span id="cb37-712"><a href="#cb37-712" aria-hidden="true" tabindex="-1"></a><span class="co">#})</span></span>
<span id="cb37-713"><a href="#cb37-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-714"><a href="#cb37-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-717"><a href="#cb37-717" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-718"><a href="#cb37-718" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: evolution-graphs-density-r</span></span>
<span id="cb37-719"><a href="#cb37-719" aria-hidden="true" tabindex="-1"></a><span class="co">#library(Hmisc)</span></span>
<span id="cb37-720"><a href="#cb37-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-721"><a href="#cb37-721" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the 'density_df' dataframe from Python using reticulate</span></span>
<span id="cb37-722"><a href="#cb37-722" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer &lt;- py$density_df</span></span>
<span id="cb37-723"><a href="#cb37-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-724"><a href="#cb37-724" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the order of categories for the 'period' column</span></span>
<span id="cb37-725"><a href="#cb37-725" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer$period &lt;- factor(testtransfer$period, levels = c('before-2013', '2013-2017', '2018-2021', '2022-2023'))</span></span>
<span id="cb37-726"><a href="#cb37-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-727"><a href="#cb37-727" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the 'gt()' function to display the dataframe</span></span>
<span id="cb37-728"><a href="#cb37-728" aria-hidden="true" tabindex="-1"></a><span class="co">#testtransfer %&gt;%</span></span>
<span id="cb37-729"><a href="#cb37-729" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename_all(Hmisc::capitalize) %&gt;%</span></span>
<span id="cb37-730"><a href="#cb37-730" aria-hidden="true" tabindex="-1"></a>  <span class="co">#gt() %&gt;%</span></span>
<span id="cb37-731"><a href="#cb37-731" aria-hidden="true" tabindex="-1"></a>  <span class="co">#tab_style(</span></span>
<span id="cb37-732"><a href="#cb37-732" aria-hidden="true" tabindex="-1"></a>    <span class="co">#style = cell_text(weight = "bold", align = "center"),</span></span>
<span id="cb37-733"><a href="#cb37-733" aria-hidden="true" tabindex="-1"></a>    <span class="co">#locations = cells_column_labels()</span></span>
<span id="cb37-734"><a href="#cb37-734" aria-hidden="true" tabindex="-1"></a>    <span class="co">#)</span></span>
<span id="cb37-735"><a href="#cb37-735" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb37-736"><a href="#cb37-736" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb37-737"><a href="#cb37-737" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Plotly graph</span></span>
<span id="cb37-738"><a href="#cb37-738" aria-hidden="true" tabindex="-1"></a><span class="co">#fig &lt;- plot_ly(testtransfer, x = ~period, y = ~density, type = 'scatter', mode = 'lines+markers', </span></span>
<span id="cb37-739"><a href="#cb37-739" aria-hidden="true" tabindex="-1"></a>               <span class="co">#text = ~paste("Period=", period, "&lt;br&gt;Density=", density), hoverinfo = "text")</span></span>
<span id="cb37-740"><a href="#cb37-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-741"><a href="#cb37-741" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the graph</span></span>
<span id="cb37-742"><a href="#cb37-742" aria-hidden="true" tabindex="-1"></a><span class="co">#fig &lt;- fig %&gt;% layout(template = "plotly_white")</span></span>
<span id="cb37-743"><a href="#cb37-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-744"><a href="#cb37-744" aria-hidden="true" tabindex="-1"></a><span class="co">#fig</span></span>
<span id="cb37-745"><a href="#cb37-745" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-746"><a href="#cb37-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-747"><a href="#cb37-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-748"><a href="#cb37-748" aria-hidden="true" tabindex="-1"></a><span class="fu">## Graph density of references</span></span>
<span id="cb37-749"><a href="#cb37-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-752"><a href="#cb37-752" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb37-753"><a href="#cb37-753" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: citations-graph-density</span></span>
<span id="cb37-754"><a href="#cb37-754" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb37-755"><a href="#cb37-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-756"><a href="#cb37-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-757"><a href="#cb37-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-758"><a href="#cb37-758" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dataframe with the density of each graph</span></span>
<span id="cb37-759"><a href="#cb37-759" aria-hidden="true" tabindex="-1"></a><span class="co">#density_df_references = pd.DataFrame({</span></span>
<span id="cb37-760"><a href="#cb37-760" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'period': ['before-2013', '2013-2017', '2018-2021', '2022-2023', 'overall'],</span></span>
<span id="cb37-761"><a href="#cb37-761" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'density': [</span></span>
<span id="cb37-762"><a href="#cb37-762" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_before_2013_references), </span></span>
<span id="cb37-763"><a href="#cb37-763" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2013_2017_references), </span></span>
<span id="cb37-764"><a href="#cb37-764" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2018_2021_references), </span></span>
<span id="cb37-765"><a href="#cb37-765" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_2022_2023_references),</span></span>
<span id="cb37-766"><a href="#cb37-766" aria-hidden="true" tabindex="-1"></a>        <span class="co">#nx.density(G_overall_references)</span></span>
<span id="cb37-767"><a href="#cb37-767" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb37-768"><a href="#cb37-768" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'average_degree': [</span></span>
<span id="cb37-769"><a href="#cb37-769" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_before_2013_references),</span></span>
<span id="cb37-770"><a href="#cb37-770" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2013_2017_references),</span></span>
<span id="cb37-771"><a href="#cb37-771" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2018_2021_references),</span></span>
<span id="cb37-772"><a href="#cb37-772" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_2022_2023_references),</span></span>
<span id="cb37-773"><a href="#cb37-773" aria-hidden="true" tabindex="-1"></a>        <span class="co">#average_degree(G_overall_references)</span></span>
<span id="cb37-774"><a href="#cb37-774" aria-hidden="true" tabindex="-1"></a>    <span class="co">#],</span></span>
<span id="cb37-775"><a href="#cb37-775" aria-hidden="true" tabindex="-1"></a>    <span class="co">#'linear_density': [</span></span>
<span id="cb37-776"><a href="#cb37-776" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_before_2013_references),</span></span>
<span id="cb37-777"><a href="#cb37-777" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2013_2017_references),</span></span>
<span id="cb37-778"><a href="#cb37-778" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2018_2021_references),</span></span>
<span id="cb37-779"><a href="#cb37-779" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_2022_2023_references),</span></span>
<span id="cb37-780"><a href="#cb37-780" aria-hidden="true" tabindex="-1"></a>    <span class="co">#linear_density(G_overall_references)</span></span>
<span id="cb37-781"><a href="#cb37-781" aria-hidden="true" tabindex="-1"></a>    <span class="co">#]</span></span>
<span id="cb37-782"><a href="#cb37-782" aria-hidden="true" tabindex="-1"></a><span class="co">#})</span></span>
<span id="cb37-783"><a href="#cb37-783" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb37-784"><a href="#cb37-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-785"><a href="#cb37-785" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-786"><a href="#cb37-786" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: citations-graph-density-comparison</span></span>
<span id="cb37-787"><a href="#cb37-787" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.cap: Comparison of network densities and average degree of nodes over time</span></span>
<span id="cb37-788"><a href="#cb37-788" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: body-outset</span></span>
<span id="cb37-789"><a href="#cb37-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-790"><a href="#cb37-790" aria-hidden="true" tabindex="-1"></a><span class="co"># Density plot</span></span>
<span id="cb37-791"><a href="#cb37-791" aria-hidden="true" tabindex="-1"></a>density_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb37-792"><a href="#cb37-792" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> density, <span class="at">colour =</span> <span class="st">"Collaboration Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Density:"</span>, density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-793"><a href="#cb37-793" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> density, <span class="at">colour =</span> <span class="st">"References Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Density:"</span>, density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-794"><a href="#cb37-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Graphs Density"</span>) <span class="sc">+</span></span>
<span id="cb37-795"><a href="#cb37-795" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb37-796"><a href="#cb37-796" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb37-797"><a href="#cb37-797" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Density Over Time"</span>) <span class="sc">+</span></span>
<span id="cb37-798"><a href="#cb37-798" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb37-799"><a href="#cb37-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-800"><a href="#cb37-800" aria-hidden="true" tabindex="-1"></a><span class="co"># Linear density plot (m/n)</span></span>
<span id="cb37-801"><a href="#cb37-801" aria-hidden="true" tabindex="-1"></a>linear_density_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb37-802"><a href="#cb37-802" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> linear_density, <span class="at">colour =</span> <span class="st">"Collaboration Linear Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Linear Density:"</span>, linear_density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Adjusted for the new column "linear_density"</span></span>
<span id="cb37-803"><a href="#cb37-803" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> linear_density, <span class="at">colour =</span> <span class="st">"References Linear Density"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Linear Density:"</span>, linear_density)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Adjusted for the new column "linear_density"</span></span>
<span id="cb37-804"><a href="#cb37-804" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Graphs Linear Density"</span>) <span class="sc">+</span></span>
<span id="cb37-805"><a href="#cb37-805" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb37-806"><a href="#cb37-806" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb37-807"><a href="#cb37-807" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Linear Density Over Time"</span>) <span class="sc">+</span></span>
<span id="cb37-808"><a href="#cb37-808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb37-809"><a href="#cb37-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-810"><a href="#cb37-810" aria-hidden="true" tabindex="-1"></a><span class="co"># Create average degree plot</span></span>
<span id="cb37-811"><a href="#cb37-811" aria-hidden="true" tabindex="-1"></a>avg_degree_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb37-812"><a href="#cb37-812" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> average_degree, <span class="at">colour =</span> <span class="st">"Collaboration Average Degree"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Average Degree:"</span>, average_degree)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co"># Corrected here</span></span>
<span id="cb37-813"><a href="#cb37-813" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> py<span class="sc">$</span>density_df_references <span class="sc">%&gt;%</span> <span class="fu">filter</span>(period <span class="sc">!=</span> <span class="st">"overall"</span>), <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> average_degree, <span class="at">colour =</span> <span class="st">"References Average Degree"</span>, <span class="at">group=</span><span class="dv">1</span>, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Period:"</span>, period, <span class="st">"&lt;br&gt;Average Degree:"</span>, average_degree)), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-814"><a href="#cb37-814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Nodes Average Degree"</span>) <span class="sc">+</span></span>
<span id="cb37-815"><a href="#cb37-815" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"before-2013"</span>, <span class="st">"2013-2017"</span>, <span class="st">"2018-2021"</span>, <span class="st">"2022-2023"</span>)) <span class="sc">+</span></span>
<span id="cb37-816"><a href="#cb37-816" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Period"</span>) <span class="sc">+</span></span>
<span id="cb37-817"><a href="#cb37-817" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Comparison of Network Average Degree Over Time"</span>) <span class="sc">+</span></span>
<span id="cb37-818"><a href="#cb37-818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb37-819"><a href="#cb37-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-820"><a href="#cb37-820" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine density and average degree plots</span></span>
<span id="cb37-821"><a href="#cb37-821" aria-hidden="true" tabindex="-1"></a>density_plot <span class="sc">/</span> linear_density_plot <span class="sc">/</span> avg_degree_plot</span>
<span id="cb37-822"><a href="#cb37-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-823"><a href="#cb37-823" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"images/citations-graph-density-comparison.png"</span>, <span class="at">width=</span><span class="dv">270</span>, <span class="at">height=</span><span class="dv">180</span>, <span class="at">units=</span><span class="st">"cm"</span>, <span class="at">dpi=</span><span class="dv">300</span>)</span>
<span id="cb37-824"><a href="#cb37-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-825"><a href="#cb37-825" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>